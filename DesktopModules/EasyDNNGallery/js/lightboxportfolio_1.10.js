!function(){var e=function(e){e.fn.portfolioSetter=function(i){function a(){G.append('<div class="loading"></div>'),o()}function o(){(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&(i.xmlRequestParams.Html5Video="True",i.xmlRequestParams.Html5Audio="True"),e.ajax({type:"POST",url:i.xmlSource,dataType:"xml",data:i.xmlRequestParams,cache:!1,success:function(t){!i.myshowCategories||i.showAllBtn&&!i.showCategories||e(t).find("categories").eq(0).find("category").each(function(t){var i=e(this),a={id:i.attr("id"),name:i.text()};T.push(a)}),e(t).find("item").each(function(t){var a=e(this),o=a.find("thumbnail:first").text().replace("\\","/"),n=a.find("preview:first").text(),s=a.find("category:first").text().split(","),r=a.find("description:first").text(),l=a.find("title:first").text(),d=a.find("title:first").text(),c=a.find("description:first").text(),p=a.find("mediaURL:first").text(),h=a.find("mediatype:first").text(),g=a.find("downhref:first").text(),f=a.find("edgpid:first").text(),u=a.find("lbnestedurl:first").text(),m=a.find("html5_video:first").text(),_=a.find("html5_audio:first").text(),v="empty";"false"!=g&&(N.hasDownloadableItems=!0),l.length>0&&"true"==i.ppMediaTitle&&(v="title"),r.length>0&&"true"==i.ppMediaDescription&&(v="title"),"false"==i.ppLightboxTitle&&(d=""),"false"==i.ppLightboxDescription&&(c=""),"false"==i.ppMediaTitle&&(l=""),"false"==i.ppMediaDescription&&(r=""),medTarget=i.pfOpenMediaTarget,relTag="prettyPhoto","True"==i.pfOpenMediaUrl&&"Image"==h?(n=p,relTag=""):medTarget="";var y={itemClass:i.itemClass,relTag:relTag,ppgroup:i.ppgroup,prev:n,imgdesc:c,medTarget:medTarget,imgalt:d,thum:o,cssClass:v,imgtitle:l,desc:r,downloadItemUrl:g,edgpid:f,lbnestedurl:u,html5_video:m,html5_audio:_},b={thumbnail:o,category:s,data:y,obj:w(y)};D.push(b)}),n()}})}function n(){e.browser.msie&&(M=!0),H.siblings(".loading").remove(),H.after('<div id="'+i.navigationId+'" class="EDG_portfolio_pagination"><ul></ul></div>'),i.fullscreenMode&&(G.before('<a href="#" class="closeFullscreenBtn '+i.categorySelector+'"></a>'),j.trigger("fullscreen_close_btn_initialized")),i.myshowCategories&&s(),i.customTitle?("dropdown"==i.categorySelector||"classic"==i.categorySelector)&&G.before('<h1 class="portfolio_custom_title">'+i.customTitle+"</h1>"):"dropdown"==i.categorySelector&&G.before('<h1 class="portfolio_custom_title">&nbsp;</h1>'),p()}function s(){switch(i.categorySelector){case"dropdown":l();break;case"left":case"right":r();break;default:d()}}function r(){var t,a,o=T.length,n=0,s="";for(y=e('<div id="'+i.categoriesId+'" class="portfolio_gallery_categories_sideways '+i.categorySelector+'">'+(i.customTitle?"<h1><span>"+i.customTitle+"</span></h1>":"")+"<ul></ul></div>"),a=y.find("> ul"),G.before(y),t={height:i.containerHeight-(y.outerHeight(!0)-y.height()),width:i.sidewayCatsWidth-(y.outerWidth(!0)-y.width())},"left"==i.categorySelector?t.marginLeft=-i.sidewayCatsWidth:t.marginRight=-i.sidewayCatsWidth,y.css(t);o>n;n++)s+='<li><a href="#">'+T[n].name+'</a><span class="id">'+T[n].id+"</span></li>";a.append(s),i.showAllBtn?a.prepend('<li class="selected"><a href="#">'+i.allText+'</a><span class="id">0</span></li>'):(a.find("> li").eq(0).addClass("selected"),N.innitialCategory=T[0].id),a.delegate("a","click",function(){var t=e(this),i=t.siblings("span.id").text();return t.parent().addClass("selected").siblings().removeClass("selected"),"0"==i?h():h(i),!1})}function l(){y=e('<div class="portfolio_gallery_categories_dropdown" class="portfolio_gallery_category_selector"></div>'),y.append('<a href="#" class="portfolio_categories_dropdown_selector"><span></span></a><div class="portfolio_categories_dropdown_container"><ul></ul></div>'),G.before(y);var t=y.find("ul"),a=y.find(".portfolio_categories_dropdown_selector");a.children("span:first").text(i.showAllBtn?i.allText:T[0].name).click(function(){return!1}),i.showAllBtn?t.append('<li><a href="#">'+i.allText+'</a><span class="id">0</span></li>'):N.innitialCategory=T[0].id;for(var o=T.length,n=0;o>n;n++)t.append('<li><a href="#">'+T[n].name+'</a><span class="id">'+T[n].id+"</span></li>");b=O.children(".portfolio_gallery_categories_dropdown"),x=O.find(".portfolio_categories_dropdown_selector"),W=O.find(".portfolio_categories_dropdown_container"),i.navDDMFile&&(x.css("background-image",'url("'+i.navDDMFile+'")'),W.find("a").css("background-image",'url("'+i.navDDMFile+'")')),(new Image).src=i.xmlRequestParams.ModulePath+"Themes/portfolio/bgrd_gray_tr.png",W.data("closable",!0).delegate("a","click",function(){var t,i=e(this);return x.find("span:first").text(i.text()),W.hide(),t=i.parent().children("span.id").text(),"0"==t?h():h(t),!1}).mouseover(function(){clearTimeout(R),W.data("closable",!1)}).mouseout(function(){W.data("closable",!0),R=setTimeout(function(){W.data("closable")&&W.hide()},150)}),x.mouseover(function(){W.data("closable",!1),W.show()}).mouseout(function(){W.data("closable",!0),R=setTimeout(function(){W.data("closable")&&W.hide()},150)})}function d(){y=e('<div id="'+i.categoriesId+'" class="EDG_portfolio_categories_classic"></div>'),i.categorySelectorSlideable?(y.css({visibility:"hidden"}).append('<div class="EDG_portfolio_categories_classic_left"></div><div class="EDG_portfolio_categories_classic_arrow left"></div><div class="EDG_portfolio_categories_classic_wrapper" style="float: left; position: relative; top: 0; left: 0; margin: 0 15px; padding: 0; overflow: hidden;"><ul style="padding: 0;"></ul></div><div class="EDG_portfolio_categories_classic_right"></div><div class="EDG_portfolio_categories_classic_arrow right"></div>'),y.find("> .EDG_portfolio_categories_classic_arrow").click(function(){var t,i,a=e(this),o=a.parent().find("ul");return t=parseInt(o.css("left")),a.hasClass("left")?(t+=40,t>0&&(t=0)):(t-=40,i=-(o.outerWidth(!0)-40),i>t&&(t=i)),o.css("left",t),!1})):y.append('<div class="EDG_portfolio_categories_classic_left"></div><ul></ul><div class="EDG_portfolio_categories_classic_right"></div>'),H.before(y);var t,a,o=y.find("ul"),n=y.find("> .EDG_portfolio_categories_classic_wrapper"),s=0;if(i.categorySelectorSlideable&&(t=y.width()-30-y.find("> .EDG_portfolio_categories_classic_left").outerWidth(!0),t-=y.find("> .EDG_portfolio_categories_classic_arrow.left").outerWidth(!0),t-=y.find("> .EDG_portfolio_categories_classic_arrow.right").outerWidth(!0),t-=y.find("> .EDG_portfolio_categories_classic_right").outerWidth(!0),n.width(t),y.css("visibility",""),o.width(5e4)),i.showAllBtn){var r=e("<li>"+i.allText+"</li>");o.append(r),c(r),r.bind({click:function(){return h(),c(e(this)),!1},mouseover:function(){e(this).css({cursor:"pointer"})}})}else N.innitialCategory=T[0].id;for(var l=T.length,d=0;l>d;d++)(function(t){var a=e("<li>"+T[t].name+"</li>");o.append(a),i.showAllBtn||0!==t||c(a),a.bind({click:function(){return h(T[t].id),c(e(this)),!1},mouseover:function(){e(this).css({cursor:"pointer"})}})})(d);if(i.categorySelectorSlideable){a=o.find("> li"),i.showAllBtn&&(l+=1);for(var d=0;l>d;d++)s+=a.eq(d).outerWidth(!0);o.width(s)}}function c(e){var t=y.find("ul li.selected");if(t[0]){var i=t.find("div.port_cat").html();t.html(i),t.removeClass("selected")}var a=e.html();e.html('<div class="port_cat_active"><div class="port_cat_l"></div><div class="port_cat">'+a+'</div><div class="port_cat_r"></div> </div>'),e.addClass("selected")}function p(){var t=D.length;for(var i in D)if(D.hasOwnProperty(i)){var a=new Image;e(a).load(function(){S++,S===t&&(N.itemsLoaded=!0,h(N.innitialCategory))}).attr("src",D[i].thumbnail)}}function h(){var a=D.length,o=arguments[0],n=null,s=null,r=0;if(N.itemsLoaded){H.html("").animate({marginLeft:0}).width(1),E=[],N.valuesInitialized||(N.valuesInitialized=!0,D[0].obj.css("visibility","hidden"),H.append(D[0].obj),n=H.find(".EDGmain"),N.itemContainerWidth=i.maxImgWidth+(n.outerWidth(!0)-n.find("img").width()),N.itemContainerHeight=i.maxImgHeight+(n.outerHeight(!0)-n.find("img").height())+(N.hasDownloadableItems?17:0),N.itemTopSpace=parseInt(n.css("borderTopWidth"))+parseInt(n.css("paddingTop"))+parseInt(n.css("marginTop")),N.itemLeftSpace=parseInt(n.css("borderLeftWidth"))+parseInt(n.css("paddingLeft"))+parseInt(n.css("marginLeft")),n=null,H.html(""),D[0].obj.css("visibility",""),N.maxItemsPerRow=Math.floor(N.containerWidth/N.itemContainerWidth+.05),N.pageWidth=N.maxItemsPerRow*N.itemContainerWidth,i.containerHeight||(i.itemsPerPage?(i.containerHeight=Math.ceil(i.itemsPerPage/N.maxItemsPerRow)*N.itemContainerHeight,H.height(i.containerHeight)):i.containerHeight=410),N.maxRowCount=Math.floor(i.containerHeight/N.itemContainerHeight+.15),N.itemsPerPage=0==i.itemsPerPage?N.maxRowCount*N.maxItemsPerRow:i.itemsPerPage,N.pageHeight=N.maxRowCount*N.itemContainerHeight),i.fullscreenMode?N.pageWidth<N.containerWidth&&(N.pageWidth=N.containerWidth):i.spaceOutPage&&N.pageWidth<N.containerWidth&&(N.pageRightPadding=N.containerWidth-N.pageWidth);for(var l=0;a>l;l++)(void 0==o||o&&t(D[l].category,o))&&(r%N.itemsPerPage===0&&(s=e("<div />").css({"float":"left",overflow:"hidden",width:N.pageWidth,height:N.pageHeight,display:"none",paddingRight:N.pageRightPadding}),E.push(s),H.width(H.width()+N.pageWidth+N.pageRightPadding),H.append(s),s.fadeIn().animate({opacity:1},0),i.fullscreenMode&&i.spaceOutPage&&(s=e("<div />").css({margin:"auto",overflow:"hidden",width:N.maxItemsPerRow*N.itemContainerWidth}),E[E.length-1].append(s))),M?(D[l].obj=w(D[l].data),s.append(D[l].obj)):s.append(D[l].obj),0==D[l].obj.find("video").length&&D[l].obj.width(N.itemContainerWidth).height(N.itemContainerHeight),r++,i.smartResize||(n=D[l].obj.children(".EDGmain"),N.itemContainerHeight-n.outerHeight(!0)>1&&n.css({position:"relative",top:"50%",marginTop:-Math.floor(n.find("img").height()/2)}),N.itemContainerWidth-n.outerWidth(!0)>1&&n.css({position:"relative",left:"50%",marginLeft:-Math.floor(n.find("img").width()/2)})));if(H.width(H.width()-1),N.pageCount=E.length,e(document).ready(function(){e('a[rel="prettyPhoto_'+i.ppgroup+'"]').prettyPhoto({animationSpeed:"options.ppanimationSpeed",slideshow:i.ppslideshow,overlay_gallery:i.ppoverlay_gallery,autoplay_slideshow:i.ppautoplay_slideshow,hideflash:!1,showTitle:!0,print_image_text:i.ppprint_image_text,item_emailing_text:i.ppitem_emailing_text,item_emailing_subject:i.ppitem_emailing_subject,allow_image_printing:i.ppallow_image_printing,enable_item_emailing:i.ppenable_item_emailing,show_social_sharing:i.ppshow_social_sharing,download_handler_url:i.ppdownload_handler_url,theme:i.pptheme}),"True"==i.pfShowQtip?e("#"+i.pfdiv+" .EDGcontent a[title]").each(function(){e(this).attr("title").length>0&&e(this).qtip({show:{effect:function(t){e(this).slideDown(i.pfShowEffect)}},hide:{effect:function(t){e(this).slideUp(i.pfHideEffect)}},position:{at:i.pfTargetPos,my:i.pfTooltipPos},style:{classes:"qtip-"+i.pfTheme+" eds_edn_qtip2_style",tip:{corner:!0,width:10,height:5}}})}):e("#"+i.pfdiv+" .EDGcontent a[title]").each(function(){e(this).attr("title").length>0&&e(this).attr("title","")})}),g(),v(),i.itemToOpen!==!1&&!N.initialItemOpened){var d=H.find('a[rel="prettyPhoto_'+i.ppgroup+'"][edgpid="'+i.itemToOpen+'"]');N.initialItemOpened=!0,d.click(),_(Math.floor((d.parents(".EDGmainContainer").index()+d.parents(".EDGmainContainer").parent().index()*N.itemsPerPage)/N.itemsPerPage))}}}function g(){var t=H.siblings("#"+i.navigationId).find("ul");if(t.html(""),O.children("div.portfolio_navigation_arrows_container").remove(),N.pageCount>1){for(var a=0;a<N.pageCount;a++)t.append("<li></li>");if(t.delegate("li","click",function(){_(e(this).index())}),t.find("li:first").addClass("selected"),i.showNavigationArrows){G.after('<div class="portfolio_navigation_arrows_container"><a href="#" class="portfolio_paggination_arrow left"></a><a href="#" class="portfolio_paggination_arrow right"></a></div>'),C=O.find("div.portfolio_navigation_arrows_container > a.portfolio_paggination_arrow.left"),I=O.find("div.portfolio_navigation_arrows_container > a.portfolio_paggination_arrow.right"),i.navArrowsFile&&(C.css("background-image",'url("'+i.navArrowsFile+'")'),I.css("background-image",'url("'+i.navArrowsFile+'")')),i.hidableNavigationArrows&&(C.hide(),I.hide(),O.mouseenter(function(){var e=t.find("li.selected").index(),a=t.children().length;(!i.hideNavigationArrowsOnEnds||i.hideNavigationArrowsOnEnds&&0!=e)&&C.fadeIn(250),(!i.hideNavigationArrowsOnEnds||i.hideNavigationArrowsOnEnds&&e!=a-1)&&I.fadeIn(250)}).mouseleave(function(){var e=t.find("li.selected").index(),a=t.children().length;(!i.hideNavigationArrowsOnEnds||i.hideNavigationArrowsOnEnds&&0!=e)&&C.stop(!1,!0).fadeOut(250),(!i.hideNavigationArrowsOnEnds||i.hideNavigationArrowsOnEnds&&e!=a-1)&&I.stop(!1,!0).fadeOut(250)}).mousemove(function(){e(this).unbind("mousemove"),I.fadeIn(250)})),i.hideNavigationArrowsOnEnds&&C.hide();var o=-(Math.round(i.containerHeight/2)+63);C.css("top",o),I.css("top",o),i.fullscreenMode&&(C.css("left",-10),I.css("right",-10)),C.click(function(){return u(),!1}),I.click(function(){return m(),!1})}f()}}function f(){var e=H.siblings("#"+i.navigationId).find("ul");e.css({marginLeft:N.containerWidth/2-N.pageCount*i.navButtonWidth/2})}function u(){var t=e("#"+i.navigationId).find("ul"),a=t.children("li.selected").index();_(a-1)}function m(){var t=e("#"+i.navigationId).find("ul"),a=t.children("li.selected").index();_(a+1)}function _(e){var t,a=H.siblings("#"+i.navigationId).find("ul"),o=a.children().length;a.children("li.selected").index();return 0>e||e>o-1?!1:(i.showNavigationArrows&&i.hideNavigationArrowsOnEnds&&(0==e&&C.stop(!1,!0).fadeOut(250),0!=e&&C.fadeIn(250),e==o-1&&I.stop(!1,!0).fadeOut(250),e!=o-1&&I.fadeIn(250)),t=e*(N.pageWidth+N.pageRightPadding),H.stop(!0,!1).animate({marginLeft:[-t,i.easing]},i.animationSpeed),a.find("li.selected").removeClass("selected"),void a.children().eq(e).addClass("selected"))}function v(){e(".portfolio_item").hover(function(){e(this).stop().animate({opacity:.8},300)},function(){e(this).stop().animate({opacity:1},300)})}function w(t){var a,o,n="";return(i.showSharingButtons.facebook||i.showSharingButtons.twitter||i.showSharingButtons.gplus)&&(a=-1!=location.href.indexOf("?")?location.href.substring(0,location.href.indexOf("?")):location.href,a+="?edgpid="+t.edgpid+"&edgmid="+t.ppgroup.substr(1)+"#!"+t.relTag+"_"+t.ppgroup+"/id"+t.edgpid+"/",n='<div class="socialSharingContainer"><div class="buttons">',i.showSharingButtons.facebook&&(n+='<iframe src="//www.facebook.com/plugins/like.php?href='+encodeURIComponent(a)+'&amp;layout=button_count&amp;show_faces=true&amp;action=like&amp;font&amp;colorscheme=light&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:20px; width: 100px;" allowTransparency="true"></iframe>'),i.showSharingButtons.gplus&&(n+='<g:plusone size="medium" href="'+a+'" annotation="bubble"></g:plusone><script type="text/javascript">gapi.plusone.go();</script>'),i.showSharingButtons.twitter&&(n+='<a href="//twitter.com/share" class="twitter-share-button" data-url="'+a+'" data-count="horizontal">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>'),n+="</div></div>"),o="True"==i.xmlRequestParams.Html5Video&&t.html5_video?'<video controls="true" src="'+t.html5_video+'" preview="'+t.thum+'" style="width: '+i.maxImgWidth+"px; height: "+i.maxImgHeight+'px;">Your browser doesn\'t support the video tag. You can <a href="'+t.html5_video+'">download the video here.</a></video>':"True"==i.xmlRequestParams.Html5Audio&&t.html5_audio?'<a href="'+t.html5_audio+'"><img alt="'+t.imgalt+'" src="'+t.thum+'" /> <span class="flagObject"></span><span class="flag"></span><span class="leftsh"></span><span class="rightsh"></span><span class="botsh"></span><span class="topsh"></span><span class="round1"></span><span class="round2"></span><span class="round3"></span><span class="round4"></span><span class="'+t.cssClass+'"><span style="display:block">'+t.imgtitle+'</span><span class="Description">'+e("<div />").html(t.desc).text()+"</span></span></a>":'<a rel="'+t.relTag+"_"+t.ppgroup+'"'+("false"==t.downloadItemUrl?"":' downhref="'+t.downloadItemUrl+'"')+' href="'+t.prev+'" lbnestedurl="'+t.lbnestedurl+'" edgpid="'+t.edgpid+'" title="'+t.imgdesc+'" pptitle="'+t.imgdesc+'" target="'+t.medTarget+'"><img alt="'+t.imgalt+'" src="'+t.thum+'" /> <span class="flagObject"></span><span class="flag"></span><span class="leftsh"></span><span class="rightsh"></span><span class="botsh"></span><span class="topsh"></span><span class="round1"></span><span class="round2"></span><span class="round3"></span><span class="round4"></span><span class="'+t.cssClass+'"><span style="display:block">'+t.imgtitle+'</span><span class="Description">'+e("<div />").html(t.desc).text()+"</span></span></a>",e('<div class="EDGmainContainer"><div class="EDGmain"><div class="'+t.itemClass+'">'+o+"</div>"+n+"</div>"+("false"!=t.downloadItemUrl?'<div style="clear: both; display: block; text-align: center;"><a href="'+t.downloadItemUrl+'" class="downloadlink">'+i.downloadItemText+"</a></div>":"")+"</div>")}var y,b,x,W,C,I,P={ppanimationSpeed:!1,ppgroup:"M300",pptheme:"dark_rounded",ppslideshow:!1,ppautoplay_slideshow:!1,ppoverlay_gallery:!1,ppLightboxTitle:"false",ppLightboxDescription:"false",ppMediaTitle:"false",ppMediaDescription:"false",pfqtip:"false",pfShowQtip:"false",pfdiv:"EasyDNNGallery",pfShowEffect:"slide",pfHideEffect:"slide",pfShowDuration:"300",pfHideDuration:"300",pfTargetPos:"topMiddle",pfTooltipPos:"topMiddle",pfTheme:"cream",pfcorner:5,pfradius:5,pfOpenMediaUrl:"False",pfOpenMediaTarget:"_self",ppprint_image_text:"Print image",ppitem_emailing_text:"Email link",ppitem_emailing_subject:"Email subject",ppallow_image_printing:!1,ppenable_item_emailing:!1,ppshow_social_sharing:!1,ppdownload_handler_url:"false",itemMargin:10,showCategories:!0,myshowCategories:!0,allText:"ALL",showAllBtn:!0,easing:"easeOutExpo",animationSpeed:800,navButtonWidth:21,xmlSource:"portfolio.xml",navigationId:"portfolio_pagination",categoriesId:"portfolio_categories",itemClass:"EDGimage",itemsPerPage:0,downloadItemText:"Download",categorySelector:"classic",categorySelectorSlideable:!1,sidewayCatsWidth:200,showNavigationArrows:!0,hidableNavigationArrows:!0,hideNavigationArrowsOnEnds:!1,customTitle:!1,fullscreenable:!0,fullscreenButtonText:"Show fullscreen",moduleCssId:"EDG_0_Shadow",fullscreenCssId:"EDG_0_Shadow",scrollableContent:!1,navDDMFile:!1,navArrowsFile:!1,xmlRequestParams:{GalleryType:"portfolio",ModuleID:0,ModulePath:"/DesktopModules/EasyDNNGallery/",PortalHome:"/Portals/0/",PortalID:0,LocaleCode:"False",Html5Video:"False",Html5Audio:"False"},maxImgWidth:150,maxImgHeight:150,containerWidth:710,containerHeight:410,smartResize:!0,spaceOutPage:!0,fullscreenMode:!1,containerWidthIsRatio:!1,showSharingButtons:{facebook:!1,twitter:!1,gplus:!1},itemToOpen:!1},i=e.extend(P,i),T=[],D=[],E=[],S=0,M=!1,H=e("<div />"),G=e(this),O=G.parent(),R=null,N={masterContainerWidth:0,containerWidth:0,containerRealWidth:0,itemContainerWidth:0,itemContainerHeight:0,itemTopSpace:0,itemLeftSpace:0,itemsPerPage:0,maxItemsPerRow:0,maxRowCount:0,pageCount:0,pageRightPadding:0,pageWidth:0,pageHeight:0,valuesInitialized:!1,innitialCategory:null,hasDownloadableItems:!1,sidewayCategories:"left"==i.categorySelector||"right"==i.categorySelector?!0:!1,initialItemOpened:!1,itemsLoaded:!1};N.masterContainerWidth=O.parents(".portfolioDimensionsContainer").width(),i.containerWidthIsRatio?(i.itemsPerPage=0,N.containerWidth=N.containerRealWidth=Math.floor(i.containerWidth*N.masterContainerWidth)):N.containerWidth=N.containerRealWidth=i.containerWidth,N.sidewayCategories&&(N.containerWidth-=i.sidewayCatsWidth),H.css({width:N.containerWidth,height:i.containerHeight,"float":"left"}),G.css({width:N.containerWidth,height:"auto",overflow:"hidden"}).append(H);var k={width:N.containerWidth};if(i.containerWidthIsRatio&&1!=i.containerWidth&&(k.position="relative",k.left=Math.floor((N.masterContainerWidth-N.containerRealWidth)/2)),O.addClass("portfolio_gallery_container").css(k),N.sidewayCategories&&("left"==i.categorySelector?O.css({marginLeft:i.sidewayCatsWidth}):O.css({marginRight:i.sidewayCatsWidth})),i.fullscreenMode&&(i.ppgroup=i.ppgroup+"_fullscreen",i.navigationId=i.navigationId+"_fullscreen",i.categoriesId=i.categoriesId+"_fullscreen"),a(),i.containerWidthIsRatio&&e(window).resize(function(){var e,t=function(){var e;N.masterContainerWidth=O.parents(".portfolioDimensionsContainer").width(),N.containerWidth=N.containerRealWidth=Math.floor(i.containerWidth*N.masterContainerWidth),N.sidewayCategories&&(N.containerWidth-=i.sidewayCatsWidth),H.css({width:N.containerWidth}),G.css({width:N.containerWidth}),e={width:N.containerWidth},1!=i.containerWidth&&(e.left=Math.floor((N.masterContainerWidth-N.containerRealWidth)/2)),O.css(e),N.valuesInitialized=!1,h()};clearTimeout(e),e=setTimeout(t,50)}),i.fullscreenMode){var A,j=O.parent(),B=j.parent();j.bind("resize_gallery",function(){N.containerWidth=j.width(),N.sidewayCategories&&(N.containerWidth-=i.sidewayCatsWidth),i.containerHeight=B.height()-j.data("initialOuterHeight")-("classic"==i.categorySelector?i.customTitle?135:107:70),H.height(i.containerHeight),G.width(N.containerWidth),O.width(N.containerWidth),"classic"==i.categorySelector&&i.categorySelectorSlideable&&(A=y.width()-30-y.find("> .EDG_portfolio_categories_classic_left").outerWidth(!0),A-=y.find("> .EDG_portfolio_categories_classic_arrow.left").outerWidth(!0),A-=y.find("> .EDG_portfolio_categories_classic_arrow.right").outerWidth(!0),A-=y.find("> .EDG_portfolio_categories_classic_right").outerWidth(!0),y.find("> .EDG_portfolio_categories_classic_wrapper").width(A)),N.valuesInitialized=!1,h()}).bind("toNextPage",function(){m()}).bind("toPrevPage",function(){u()})}else i.fullscreenable&&G.after('<div class="EasyDNNGallery_fullscreen_btn_container"><a class="EasyDNNGallery_fullscreen_btn" href="#" onclick="eds1_10().fullscreenPortfolioGallery(\''+G.attr("id")+"'); return false;\">"+i.fullscreenButtonText+"</a></div>");if(i.fullscreenMode||i.scrollableContent){var L=i.fullscreenMode?B:H;L.bind("mousewheel.EasyDNNGallery_portfolio_mousewheel",function(e,t){return t>0?u():m(),!1})}i.fullscreenMode||G.data("EasyDNNGallery.portfolio.options",i)},e.fn.fullscreenPortfolioGallery=function(t){function i(){r.width(h.width()-8-parseInt(r.css("border-left-width"),10)-parseInt(r.css("border-right-width"),10)).height(h.height()-8-parseInt(r.css("border-top-width"),10)-parseInt(r.css("border-bottom-width"),10)).css("top",Math.round((h.height()-r.outerHeight())/2))}function a(){p.css({left:"auto",right:"right"==c.categorySelector?-(c.sidewayCatsWidth+10):-10})}function o(){e(document).unbind("keydown.EasyDNNGallery_fullscreen"),g.css({overflow:""}),s.fadeOut(200,function(){s.remove()})}var n,s,r,l,d,c,p,h=e(window),g=e("body");"string"==typeof t?(n=e("#"+t),c=e.extend(!0,{},n.data("EasyDNNGallery.portfolio.options"))):"object"==typeof t&&(c=t),s=e('<div class="portfolio_gallery_fullscreen_container" id="'+c.fullscreenCssId+'"></div>'),s.css("top",h.scrollTop()),g.append(s).css({overflow:"hidden"}),r=e('<div class="portfolio_gallery_fullscreen_wrapper"></div>'),s.append(r),r.bind("reposition",function(){i(),a(),l.trigger("resize_gallery")}),l=e('<div class="portfolio_gallery_fullscreen_main"><div style="position: relative;"><div class="portfolio_gallery_fullscreen_inner"></div></div></div>'),r.append(l),l.data("initialOuterHeight",l.outerHeight(!0)),i(),h.scroll(function(){s.css("top",h.scrollTop())}).resize(function(){clearTimeout(d),d=setTimeout(function(){r.trigger("reposition")},50)}),e(document).bind("keydown.EasyDNNGallery_fullscreen",function(t){var i=e("body > .pp_overlay");if(0==i.length)switch(t.keyCode){case 27:o();break;case 39:l.trigger("toNextPage");break;case 37:l.trigger("toPrevPage")}});var c=e.extend(c,{containerWidth:l.width(),containerHeight:r.height()-l.data("initialOuterHeight"),fullscreenMode:!0,fullscreenable:!1,itemsPerPage:0,spaceOutPage:!0,scrollableContent:!0,hideNavigationArrowsOnEnds:!0});c.containerHeight-="classic"==c.categorySelector?c.customTitle?135:107:70,l.find("div.portfolio_gallery_fullscreen_inner").portfolioSetter(c),l.delegate(".closeFullscreenBtn","click",function(){return o(),!1}).bind("fullscreen_close_btn_initialized",function(){p=l.find(".closeFullscreenBtn"),a()})}},t=function(e,t){for(var i=e.length,a=0;i>a;a++)if(e[a]===t)return!0;return!1};"undefined"!=typeof jQuery&&e(jQuery),"undefined"!=typeof eds1_10&&e(eds1_10)}();
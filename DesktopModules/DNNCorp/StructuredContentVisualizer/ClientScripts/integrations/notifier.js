
define(['jquery'],function notifier($){"use strict";var editingModuleId;var serviceName="structuredcontentvisualizer";function notify(payload){var sf=$.dnnSF(editingModuleId);var serviceRoot=sf.getServiceRoot(serviceName);var serviceUrl=serviceRoot+"visualizerNotification/NotifyContentItemChange";return $.ajax({url:serviceUrl,type:"POST",contentType:"application/json; charset=UTF-8",dataType:"json",data:JSON.stringify(payload),beforeSend:sf.setModuleHeaders});};return{init:function(moduleId){editingModuleId=moduleId;},notifyContentItemChange:function(contentItemId,action,contentTypeId,parameters){notify({contentItemId:contentItemId,contentTypeId:contentTypeId,action:action,parameters:parameters});}}});
!function(e){function t(o){if(r[o])return r[o].exports;var a=r[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var r=t.slice(1),o=e[t[0]];return function(e,t,a){o.apply(this,[e,t,a].concat(r))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}var t=r(1),o=e(t),a=r(105),n=r(7),i=r(74),l=e(i),s=r(80),u=e(s),c=r(72),p=e(c),d=(0,u["default"])();l["default"].dispatch=d.dispatch;var f=document.getElementById("sites-container");l["default"].init("initSites"),(0,a.render)(o["default"].createElement(n.Provider,{store:d},o["default"].createElement(p["default"],null)),f)}).call(this)}finally{}},function(e,t){e.exports=window.dnn.nodeModules.React},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=e({},window.dnn.utility);t["default"]=r}).call(this)}finally{}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},a=0;a<this.length;a++){var n=this[a][0];"number"==typeof n&&(o[n]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"==typeof i[0]&&o[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),e.push(i))}},e}},function(e,t,r){function o(e,t){for(var r=0;r<e.length;r++){var o=e[r],a=f[o.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](o.parts[n]);for(;n<o.parts.length;n++)a.parts.push(u(o.parts[n],t))}else{for(var i=[],n=0;n<o.parts.length;n++)i.push(u(o.parts[n],t));f[o.id]={id:o.id,refs:1,parts:i}}}}function a(e){for(var t=[],r={},o=0;o<e.length;o++){var a=e[o],n=a[0],i=a[1],l=a[2],s=a[3],u={css:i,media:l,sourceMap:s};r[n]?r[n].parts.push(u):t.push(r[n]={id:n,parts:[u]})}return t}function n(e,t){var r=h(),o=E[E.length-1];if("top"===e.insertAt)o?o.nextSibling?r.insertBefore(t,o.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),E.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=E.indexOf(e);t>=0&&E.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",n(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",n(e,t),t}function u(e,t){var r,o,a;if(t.singleton){var n=v++;r=S||(S=l(t)),o=c.bind(null,r,n,!1),a=c.bind(null,r,n,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=s(t),o=d.bind(null,r),a=function(){i(r),r.href&&URL.revokeObjectURL(r.href)}):(r=l(t),o=p.bind(null,r),a=function(){i(r)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else a()}}function c(e,t,r,o){var a=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,a);else{var n=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n)}}function p(e,t){var r=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function d(e,t){var r=t.css,o=t.sourceMap;o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),n=e.href;e.href=URL.createObjectURL(a),n&&URL.revokeObjectURL(n)}var f={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=g(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),h=g(function(){return document.head||document.getElementsByTagName("head")[0]}),S=null,v=0,E=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=a(e);return o(r,t),function(e){for(var n=[],i=0;i<r.length;i++){var l=r[i],s=f[l.id];s.refs--,n.push(s)}if(e){var u=a(e);o(u,t)}for(var i=0;i<n.length;i++){var s=n[i];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var y=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},,[111,66,67,70,65,68,69],function(e,t){e.exports=window.dnn.nodeModules.ReactRedux},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=e(o),n={get:function(e){var t="EvoqSites";return a["default"].getResx(t,e)},getFromPlatform:function(e){var t="Sites";return a["default"].getResx(t,e)}};t["default"]=n}).call(this)}finally{}},[111,44,45,48,43,46,47],function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.GridCell},function(e,t){e.exports=window.dnn.Sites.CommonActions},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.SvgIcons},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Button},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={init:function(e){e||(this.applicationSettings={}),this.settings=e},settings:null};t["default"]=e}).call(this)}finally{}},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Dropdown},function(e,t){e.exports=window.dnn.nodeModules.ReactCollapse},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=r(2),l=e(i),s=function(){function e(){o(this,e)}return n(e,[{key:"getServiceFramework",value:function(e){var t=l["default"].sf;return t.moduleRoot="PersonaBar",t.controller=e,t}},{key:"getPortals",value:function(e,t,r){var o=this.getServiceFramework("EvoqSites");o.get("GetPortals?"+a(e),{},t,r)}},{key:"getPortalTemplates",value:function(e,t){var r=this.getServiceFramework("Sites");r.get("GetPortalTemplates",{},e,t)}},{key:"createPortal",value:function(e,t,r){var o=this.getServiceFramework("Sites");o.post("CreatePortal",e,t,r)}},{key:"getPortalLocales",value:function(e,t,r){var o=this.getServiceFramework("Sites");o.get("GetPortalLocales?portalId="+e,{},t,r)}},{key:"deletePortal",value:function(e,t,r){var o=this.getServiceFramework("Sites");o.post("DeletePortal?portalId="+e,{},t,r)}},{key:"getPortalTabs",value:function(e,t,r){var o=this.getServiceFramework("Sites");o.get("GetPortalTabs?"+a(e),{},t,r)}},{key:"getTabsDescendants",value:function(e,t,r){var o=this.getServiceFramework("Sites");o.get("GetTabsDescendants?"+a(e),{},t,r)}},{key:"exportPortal",value:function(e,t,r){var o=this.getServiceFramework("Sites");o.post("ExportPortalTemplate",e,t,r)}},{key:"getPortalGroups",value:function(e,t){var r=this.getServiceFramework("SiteGroup");r.get("GetSiteGroups",{},e,t)}},{key:"savePortalGroup",value:function(e,t,r){var o=this.getServiceFramework("SiteGroup");o.post("SaveSiteGroup",e,t,r)}},{key:"deletePortalGroup",value:function(e,t,r){var o=this.getServiceFramework("SiteGroup");o.post("DeleteSiteGroup?groupId="+e,{},t,r)}},{key:"updateGroupMembers",value:function(e,t,r,o,a){var n=this.getServiceFramework("SiteGroup");n.post("UpdateGroupMembers",{groupId:e,selectedMembers:t,deselectedMembers:r,copyUsers:!0},o,a)}},{key:"createPortalGroup",value:function(e,t,r){var o=this.getServiceFramework("SiteGroup");o.post("SaveSiteGroup",e,t,r)}},{key:"getPortalsWithoutGroup",value:function(e,t){var r=this.getServiceFramework("SiteGroup");r.get("GetPortalsWithoutGroup",{},function(t){e(t)},t)}}]),e}(),u=new s;t["default"]=u}).call(this)}finally{}},function(e,t){e.exports=window.dnn.Sites.CommonActionTypes},function(e,t){e.exports=window.dnn.Sites.CommonComponents},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Label},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.MultiLineInputWithError},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.PersonaBarPageBody},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.PersonaBarPageHeader},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.SingleLineInputWithError},function(e,t){e.exports=window.dnn.nodeModules.ReactCustomScrollBars},function(e,t){e.exports=window.dnn.nodeModules.Redux},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.AddToSiteGroup{padding:0;margin-top:-20px;margin-left:10px;padding-bottom:10px;width:100%}.AddToSiteGroup p{margin-bottom:5px;font-weight:700;color:#46292b}.AddToSiteGroup .dropdown{width:100%;margin-top:50px;margin-left:-10px}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.template-thumbnail{width:250px;height:100%;float:left;margin-right:15px;position:relative;cursor:pointer;padding:5px}.template-thumbnail.selected{border:2px solid #21a3da}.template-thumbnail:hover .template-thumbnail-overlay{display:block}.template-thumbnail .template-thumbnail-overlay{position:absolute;width:95%;height:95%;background-color:#21a3da;opacity:.8;display:none;z-index:100}.template-thumbnail .template-thumbnail-overlay p{position:relative;top:40%;transform:translateY(-40%);text-align:center;color:#fff;font-weight:700;font-size:17px;max-width:60%;left:50%;transform:translateX(-50%)}.template-thumbnail .template-thumbnail-container{position:absolute;width:95%;height:65%;border:1px solid #c8c8c8;border-bottom:none}.template-thumbnail .template-thumbnail-info{position:absolute;bottom:5px;width:95%;height:35%;background-color:#fff;padding:15px;border:1px solid #c8c8c8;border-top:none}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.create-portal{float:left}.create-portal .create-site-container{padding:50px 35px}.create-portal .create-site-container .dnn-multi-line-input-with-error,.create-portal .create-site-container .dnn-single-line-input-with-error{width:100%}.create-portal .create-site-container .portal-description .dnn-ui-common-multi-line-input{height:75px;overflow:auto}.create-portal .create-site-container .site-template-box{margin-top:25px}.create-portal .create-site-container .site-template-box .dnn-label{display:block;width:100%}.create-portal .create-site-container .site-thumbnails-container{width:100%;height:275px;padding:15px;border:1px solid #c8c8c8;margin-top:5px;background-color:#eff0f0}.create-portal .create-site-container .site-thumbnails-container .dnn-dropdown-with-error{width:100%;margin-top:25px;margin-bottom:35px}.create-portal .create-site-container .site-type-container{margin-top:25px}.create-portal .create-site-container .site-type-container .dnn-radio-buttons{padding-top:6px}.create-portal .create-site-container .site-type-container .dnn-radio-buttons>label{margin-right:25px}.create-portal .create-site-container .site-type-container .dnn-radio-buttons ul li label{float:left}.create-portal .create-site-container .site-type-container .home-directory .dnn-label{width:40%;margin-right:0}.create-portal .create-site-container .site-type-container .home-directory .dnn-label>label{font-size:13px;float:right;margin-right:25px}.create-portal .create-site-container .site-type-container .home-directory .input-tooltip-container{width:60%}.create-portal .create-site-container .site-type-container #home-directory,.create-portal .create-site-container .user-as-admin .dnn-switch-container{width:100%}.create-portal .create-site-container .user-as-admin .dnn-switch-container .dnn-switch{float:right}.create-portal .create-site-container .site-action-buttons{text-align:center;margin-top:25px}.create-portal .create-site-container .site-action-buttons .dnn-ui-common-button{margin-right:10px}.create-portal .create-site-container .dnn-grid-system.with-right-border{padding:25px 0}.create-portal .create-site-container .dnn-grid-system.with-right-border>.dnn-grid-cell:last-child{padding-left:15px}.create-portal .create-site-container .dnn-grid-system.with-right-border>.dnn-grid-cell:first-child{padding-right:15px;border-right:1px solid #c8c8c8}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.portal-card-container{display:table;width:233px;height:233px;margin:25px 0 0 25px;border:1px solid #c8c8c8;float:left;position:relative;box-sizing:border-box}.portal-card-container:nth-child(3n+1){margin-left:0}.portal-card-container:hover .portal-card-overlay{opacity:.8}.portal-card-container .portal-card{display:table;width:100%;float:left}.portal-card-container .portal-card img.thumbnail{width:100%;height:147px;border-bottom:1px solid;vertical-align:top}.portal-card-container .portal-card img.thumbnail.empty-thumbnail{display:none}.portal-card-container .portal-card div.empty-thumbnail{height:147px;width:100%;background-color:#c8c8c8;position:relative;transition:opacity .2s linear}.portal-card-container .portal-card div.empty-thumbnail.need-hide{opacity:0;position:absolute;top:0;left:0}.portal-card-container .portal-card div.empty-thumbnail svg{width:35px;fill:#fff;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.portal-card-container .portal-card .portal-info-container{padding:4px 15px 11px;display:table;width:100%}.portal-card-container .portal-card .portal-info-container .portal-name{color:#333;font-weight:700;display:block;min-height:32px;word-break:break-all}.portal-card-container .portal-card .portal-info-container .last-modified{color:#c8c8c8;height:20px;line-height:20px;font-size:11px}.portal-card-container .portal-card .portal-info-container .card-data{float:left;height:15px}.portal-card-container .portal-card .portal-info-container .card-data svg{width:15px;height:15px;float:left;margin:0 5px 0 -2px}.portal-card-container .portal-card .portal-info-container .card-data+.card-data{margin-left:37px}.portal-card-container .portal-card.loading:after{display:none}.portal-card-container .portal-card-overlay{position:absolute;top:0;width:100%;height:100%;background:#1785ac;transition:.3s;opacity:0;cursor:pointer}.portal-card-container .portal-card-overlay .icon-container{text-align:center;width:100%;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.portal-card-container .portal-card-overlay .icon-container>div{display:inline;margin-right:10px}.portal-card-container .portal-card-overlay .icon-container>div svg{width:30px;fill:#fff}.portal-card-container .portal-card-overlay .dnn-text-overflow-wrapper{position:absolute;bottom:92px;font-size:15px;margin-left:16px;opacity:0}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.portals-cardview-list{transition:.5s}.portals-cardview-list.hidden{opacity:0}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.controls-container{float:left;width:100%}.controls-container .controls{border-bottom:1px solid #c8c8c8;padding:0 0 7px}.controls-container .search-box-container{float:right;border-left:1px solid #c8c8c8;height:24px}.controls-container .search-box-container .dnn-search-box{margin-top:-3px}.controls-container .search-box-container input::-webkit-search-cancel-button{display:none}.controls-container .search-box-container input:focus{outline:none}.controls-container .sitegroup-filter-container .dnn-dropdown{max-height:24px;margin-top:0;padding-left:0;width:100%;border-right:1px solid #c8c8c8}.controls-container .sitegroup-filter-container .dnn-dropdown .collapsible-label{padding-left:0;padding-top:4px;padding-bottom:4px}.controls-container .sitegroup-filter-container .dnn-dropdown .dropdown-icon{top:6px}.controls-container .sitegroup-filter-container .collapsible-content{box-shadow:0 0 1px 0 rgba(0,0,0,.2);margin-top:13px;left:-15px}.controls-container .sitegroup-filter-container{padding-left:15px;min-height:24px;padding-right:5px}.controls-container .sitegroup-filter-container a{font-weight:700}.controls-container .view-state-container{min-height:24px;padding-top:1px;border-right:1px solid #c8c8c8}.controls-container .view-state-container svg{cursor:pointer;width:22px;height:22px;float:left;margin-right:5px}.controls-container .view-state-container .selected svg{fill:#6f7273}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.create-site-group-box{animation:.5s CreateSiteGroupFadeIn}.create-site-group-box.opened{border:1px solid #c8c8c8;border-top:2px solid #1e88c3;border-bottom:2px solid #1e88c3}.create-site-group-box>div{float:left}.create-site-group-box .create-site-group{float:left;padding:0 15px 15px}.create-site-group-box .create-site-group .create-site-container{padding:30px 35px}.create-site-group-box .create-site-group .create-site-container .dnn-multi-line-input-with-error,.create-site-group-box .create-site-group .create-site-container .dnn-single-line-input-with-error{width:100%}.create-site-group-box .create-site-group .create-site-container .portal-description .dnn-ui-common-multi-line-input{height:75px;overflow:auto}.create-site-group-box .create-site-group .create-site-container .site-template-box{margin-top:25px}.create-site-group-box .create-site-group .create-site-container .site-template-box .dnn-label{display:block;width:100%}.create-site-group-box .create-site-group .create-site-container .nsg-master-site{width:100%}.create-site-group-box .create-site-group .create-site-container .nsg-master-site .dnn-dropdown-with-error{width:100%;margin-bottom:25px}.create-site-group-box .create-site-group .create-site-container .site-action-buttons{text-align:center;margin-top:25px}.create-site-group-box .create-site-group .create-site-container .site-action-buttons .dnn-ui-common-button{margin-right:10px}@keyframes CreateSiteGroupFadeIn{0%{opacity:0}to{opacity:1}}",""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,'svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}.group-row{border-bottom:1px solid #c8c8c8}.group-row:last-child{border-bottom:none}.group-row .site-group-header{position:relative;cursor:pointer}.group-row .site-group-header .collapse-icon{position:absolute;right:20px;top:21px;font-size:30px;line-height:16px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.group-row .site-group-header .collapse-icon:after{border:6px solid transparent;border-bottom:6px solid #4b4e4f;content:"";position:absolute;left:-15px;top:0}.group-row .site-group-header .collapse-icon.collapsed:after{border-top:6px solid #4b4e4f;border-bottom:6px solid transparent;top:5px}.group-row .group-row-detail{clear:both;float:left}.group-row .group-row-detail>div{float:left;padding:25px}.group-row .group-row-detail.opened{border-bottom:2px solid #1e88c3}.group-row .group-row-detail .portal-group-detail-view{padding:0}.group-row .group-row-detail .portal-group-detail-view .portal-group-details{padding:0 15px;border-right:1px solid #c8c8c8}.group-row .group-row-detail .portal-group-detail-view .portal-group-details .master-portal-label{text-transform:uppercase;padding-left:30px;padding-top:20px;padding-bottom:20px}.group-row .group-row-detail .portal-group-detail-view .portal-group-details .master-portal-label label{font-weight:700}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist{padding-left:45px}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-action{margin-bottom:10px}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-action .portal-group-checklist-label{float:left;width:auto}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-action .portal-group-checklist-label>label{font-weight:700;color:#000}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-action .portal-group-edit-members{float:right;cursor:pointer}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-action .portal-group-edit-members:hover{color:#1e88c3;font-weight:700}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members{padding:10px 35px 30px}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-list{padding:10px;list-style:none}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-list li{margin-bottom:5px}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .portal-group-members-list li.delete-users-active{color:red}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .update-portal-group-members{margin-top:10px;text-align:right}.group-row .group-row-detail .portal-group-detail-view .portal-group-checklist .update-portal-group-members .dnn-ui-common-button{margin-left:11px}.group-row .actions{text-align:center;margin-top:45px}.group-row .actions button{margin-left:10px}.group-row-summary{height:60px;line-height:60px;padding-left:15px}.group-row-summary.opened{border-top:2px solid #1e88c3}.group-row-summary .site-group-icon{width:30px;height:30px;float:left;margin-right:20px;margin-top:10px}.group-row-summary .site-group-icon>svg{fill:#6f7273}',""])},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}._1Z9asgwaMzjOl4Y3oV6ezJ .no-data-state{text-align:center;animation:.5s NoDataFadeIn}._1Z9asgwaMzjOl4Y3oV6ezJ .no-data-state h1{padding-top:88px;font-size:28px}._1Z9asgwaMzjOl4Y3oV6ezJ .no-data-state p{padding-top:22px;font-size:14px;color:#c8c8c8}._1Z9asgwaMzjOl4Y3oV6ezJ .no-data-state div{padding:0}._1Z9asgwaMzjOl4Y3oV6ezJ .no-data-state svg{text-align:center;margin-bottom:100px;height:300px;width:550px}._1Z9asgwaMzjOl4Y3oV6ezJ .portal-groups-table{border:1px solid #c8c8c8}._1Z9asgwaMzjOl4Y3oV6ezJ .site-group-help-text{margin-bottom:10px}._1Z9asgwaMzjOl4Y3oV6ezJ .create-site-group-button{font-size:14px;margin-bottom:15px;cursor:pointer;color:#4b4e4f;text-align:right;display:block;border-bottom:1px solid #c8c8c8;padding-bottom:15px;font-weight:700}._1Z9asgwaMzjOl4Y3oV6ezJ .create-site-group-button.opened,._1Z9asgwaMzjOl4Y3oV6ezJ .create-site-group-button:hover{color:#1e88c3}._1Z9asgwaMzjOl4Y3oV6ezJ .create-site-group-button.opened svg,._1Z9asgwaMzjOl4Y3oV6ezJ .create-site-group-button:hover svg{fill:#1e88c3;stroke-width:3px}._1Z9asgwaMzjOl4Y3oV6ezJ .create-site-group-button svg{width:16px;height:16px;vertical-align:top;fill:#4b4e4f}.site-groups-error>h6{margin:15px 0 25px}@keyframes NoDataFadeIn{0%{opacity:0}to{opacity:1}}",""]),t.locals={portalGroupsContainer:"_1Z9asgwaMzjOl4Y3oV6ezJ"}},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}._1nE73fXK_Hb5auEMG2mru2 .load-more-button{margin-top:25px;text-align:center}._1nE73fXK_Hb5auEMG2mru2 .portalgroups-list,._1nE73fXK_Hb5auEMG2mru2 .portals-list{padding:25px 24px 25px 25px;transition:.5s}",""]),t.locals={sitesPortalList:"_1nE73fXK_Hb5auEMG2mru2"}},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,".sites-app *{box-sizing:border-box}",""])},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\n<g>\n\t<rect x="257.7" y="256" width="640" height="640"/>\n\t<rect x="1150.8" y="256" width="640" height="640"/>\n\t<rect x="257.9" y="1152.1" width="640" height="640"/>\n\t<rect x="1151" y="1152.1" width="640" height="640"/>\n</g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\n<g>\n\t<rect x="257.2" y="256" width="1533.7" height="321.7"/>\n\t<rect x="257.2" y="1470.3" width="1533.7" height="321.7"/>\n\t<rect x="257.2" y="857.3" width="1533.7" height="321.7"/>\n</g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg viewBox="0 0 2048 2048">\n                    <g>\n                        <path d="M1270.9,252.7H379.9v1533.9h1288.3V628.7L1270.9,252.7z M1327.8,438.6l117.4,117.4h-117.4V438.6z M1539.5,1660.4H519V366.2\n                            h704.5v294.1h316.1V1660.4z"/>\n                    </g>\n                </svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 2048 2048" style="enable-background:new 0 0 2048 2048;" xml:space="preserve">\n<g>\n\t<path d="M256.6,256.8V1786h1534.9V393.6v-77.7v-59H256.6z M1647.6,1645.3h-1251V393.6h1251V1645.3z"/>\n\t<rect x="534.5" y="532.6" width="974.8" height="281.1"/>\n\t<rect x="1092.4" y="951.3" width="417.9" height="563.8"/>\n\t<rect x="534.5" y="949.1" width="417.9" height="563.8"/>\n</g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg viewBox="0 0 2048 2048">\n<path d="M1447.9,973.9l-334.4-138c0-5.5-0.2-10.9-0.4-16.2c125.4-44.3,218.2-172.3,218.2-294.2C1331.2,375,1193.7,253,1024,253\n\tS716.8,375,716.8,525.5c0,121.6,87.3,249.3,210.4,293.9c-0.2,5.5-0.4,11-0.4,16.6L584.6,980.8l-67.1,310.5l-72.9,407L499,1788\n\th1042.2l62.2-89.7l-75.5-407L1447.9,973.9z"/>\n</svg>\n'},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=r(11),n=r(6),i=r(2),l=e(i),s=o(a.CommonPaginationActions,{filterBySiteGroup:function(e,t){return function(r){r({type:n.pagination.FILTER_BY_SITE_GROUP,payload:e}),t&&l["default"].throttleExecution(t)}},resetPagination:function(e){return function(t){t({type:n.pagination.RESET_PAGINATION}),e&&l["default"].throttleExecution(e)}}});t["default"]=s}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e){c["default"].notify(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(6),i=r(11),l=r(17),s=e(l),u=r(2),c=e(u),p=a(i.CommonPortalListActions,{loadPortals:function(e,t,r){return function(a){s["default"].getPortals(e,function(e){a(t?{type:n.portal.RETRIEVED_PORTALS_CONCAT,payload:{portals:e.Results,totalCount:e.TotalResults}}:{type:n.portal.RETRIEVED_PORTALS,payload:{portals:e.Results,totalCount:e.TotalResults}}),r&&c["default"].throttleExecution(r.bind(e))},o)}},updateThumbnail:function(e,t,r){return function(o){o({type:n.portal.UPDATE_PORTAL_PARAMETER,payload:{portalId:e,name:"Thumbnail",value:t}}),r&&r()}},searchPortals:function(e){return function(t){t({type:n.portal.SEARCH_PORTALS,payload:{filter:e.filter}}),s["default"].getPortals(e,function(e){t({type:n.portal.RETRIEVED_PORTALS,payload:{portals:e.Results,totalCount:e.TotalResults}})})}}});t["default"]=p}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e){s["default"].notify(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(6),n=r(17),i=e(n),l=r(2),s=e(l),u={getPortalGroups:function(e){return function(t){i["default"].getPortalGroups(function(r){t({type:a.portalGroup.RETRIEVED_PORTAL_GROUPS,payload:{portalGroups:r}}),e&&e(r)},o)}},savePortalGroup:function(e,t,r){return function(n){i["default"].savePortalGroup(e,function(e){n({type:a.portalGroup.UPDATE_PORTAL_GROUP,payload:{updatedGroup:e.Group,index:t}}),r&&r(e)},o)}},deletePortalGroup:function(e,t,r){return function(n){i["default"].deletePortalGroup(e,function(e){n({type:a.portalGroup.DELETE_PORTAL_GROUP,payload:{portalGroupIndex:t}}),r&&r(e)},o)}},createPortalGroup:function(e,t){return function(r){i["default"].createPortalGroup(e,function(e){r({type:a.portalGroup.CREATED_PORTAL_GROUP,payload:e}),t&&t(e)},o)}},updateGroupMembers:function(e,t,r,n,l){return function(s){i["default"].updateGroupMembers(e,t,r,function(e){s({type:a.portalGroup.ADDED_PORTAL_MEMBERS,payload:{portalGroupIndex:n,members:e.Members.map(function(e){return{id:e.PortalID,name:e.PortalName}})}}),l&&l(e)},o)}},getPortalsWithoutGroup:function(e){var t=this;return function(r){i["default"].getPortalsWithoutGroup(function(o){r({type:a.portalGroup.RETRIEVED_FREE_PORTALS,payload:o}),e&&s["default"].throttleExecution(e.bind(t,o))},o)}},setSiteGroupFormDirt:function(e,t){return function(r){r({type:a.portalGroup.SET_SITE_GROUP_DIRT,payload:e}),t&&t()}},setSiteSelectionFormDirt:function(e,t){return function(r){r({type:a.portalGroup.SET_SITE_SELECTION_DIRT,payload:e}),t&&t()}},setDetailView:function(e,t){return function(r){r({type:a.portalGroup.SET_DETAIL_VIEW,payload:e}),t&&s["default"].throttleExecution(t)}},toggleEditMemberMode:function(e){return function(t){t({type:a.portalGroup.TOGGLE_EDIT_MEMBER_MODE}),e&&s["default"].throttleExecution(e)}},setSelectedSites:function(e,t){return function(r){r({type:a.portalGroup.SET_SELECTED_SITES,payload:e}),t&&s["default"].throttleExecution(t)}},setAvailableSites:function(e,t){return function(r){r({type:a.portalGroup.SET_AVAILABLE_SITES,payload:e}),t&&s["default"].throttleExecution(t)}}};t["default"]=u}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),a=r(78),n=e(a),i={getSiteAliases:function(e,t){return function(r){n["default"].getSiteAliases(e,function(e){r({type:o.siteBehavior.RETRIEVED_SITESETTINGS_PORTAL_ALIASES,data:{siteAliases:e}}),t&&t(e)})}},getSiteAlias:function(e,t){return function(r){n["default"].getSiteAlias(e,function(e){r({type:o.siteBehavior.RETRIEVED_SITESETTINGS_PORTAL_ALIAS,data:{aliasDetail:e.PortalAlias}}),t&&t(e)})}},cancelSiteAliasClientModified:function(){return function(e){e({type:o.siteBehavior.CANCELED_SITESETTINGS_SITE_ALIAS_CLIENT_MODIFIED,
data:{siteAliasClientModified:!1}})}},siteAliasClientModified:function(e){return function(t){t({type:o.siteBehavior.SITESETTINGS_SITE_ALIAS_CLIENT_MODIFIED,data:{aliasDetail:e,siteAliasClientModified:!0}})}},addSiteAlias:function(e,t,r){return function(a){n["default"].addSiteAlias(e,function(e){a({type:o.siteBehavior.CREATED_SITESETTINGS_SITE_ALIAS,data:{siteAliasClientModified:!1}}),t&&t(e)},function(e){r&&r(e)})}},updateSiteAlias:function(e,t,r){return function(a){n["default"].updateSiteAlias(e,function(e){a({type:o.siteBehavior.UPDATED_SITESETTINGS_SITE_ALIAS,data:{siteAliasClientModified:!1}}),t&&t(e)},function(e){r&&r(e)})}},deleteSiteAlias:function(e,t,r,a){return function(i){n["default"].deleteSiteAlias(e,function(e){i({type:o.siteBehavior.DELETED_SITESETTINGS_SITE_ALIAS,data:{siteAliases:t}}),r&&r(e)},function(e){a&&a(e)})}}};t["default"]=i}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(r(6),r(79)),a=e(o),n={closePersonaBar:function(e){return function(t){a["default"].closePersonaBar(function(r){t({type:"CLOSE_PERSONA_BAR",data:{siteAliases:r}}),e&&e(r)})}}};t["default"]=n}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=r(6),o={setCardView:function(){return function(t){t({type:e.viewMode.SET_CARD_VIEW})}},setListView:function(){return function(t){t({type:e.viewMode.SET_LIST_VIEW})}},selectTab:function(t){return function(r){r({type:e.viewMode.SELECT_TAB,payload:t})}}};t["default"]=o}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{selectedPage:e.visiblePanel.selectedPage,selectedPageVisibleIndex:e.visiblePanel.selectedPageVisibleIndex}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=r(1),u=e(s),c=r(7),p=r(64),d=e(p),f=r(11),g=r(97),m=e(g),h=r(52),S=e(h),v=r(19),E=r(9),y=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={editMode:!1,portalBeingExported:{}},e}return n(t,e),l(t,[{key:"onAddNewSite",value:function(e){e.preventDefault(),this.navigateMap(1)}},{key:"onEditSite",value:function(){}},{key:"closePersonaBar",value:function(e){var t=this.props;t.dispatch(E.userSettings.closePersonaBar(e))}},{key:"onExportPortal",value:function(e){this.setState({portalBeingExported:e}),this.navigateMap(2)}},{key:"updatePortalSiteGroups",value:function(e,t){var r=this.props;r.dispatch(E.portalGroup.updateGroupMembers(e.id,[t],[],0))}},{key:"getPortalsWithoutGroups",value:function(e){var t=this.props;t.dispatch(E.portalGroup.getPortalsWithoutGroup(e))}},{key:"navigateMap",value:function(e){var t=this.props;t.dispatch(f.CommonVisiblePanelActions.selectPanel(e))}},{key:"cancelExport",value:function(e){void 0!==e&&e.preventDefault(),this.setState({portalBeingExported:{}}),this.navigateMap(0)}},{key:"render",value:function(){var e=this.props;return u["default"].createElement("div",{className:"sites-Root"},u["default"].createElement(m["default"],{isOpen:0===e.selectedPage||2===e.selectedPage},u["default"].createElement(d["default"],{closePersonaBar:this.closePersonaBar.bind(this),getPortalsWithoutGroups:this.getPortalsWithoutGroups.bind(this),onAddNewSite:this.onAddNewSite.bind(this),navigateMap:this.navigateMap.bind(this),onExportPortal:this.onExportPortal.bind(this)})),1===e.selectedPage&&u["default"].createElement(m["default"],{isOpen:1===e.selectedPage},u["default"].createElement(S["default"],{onCancel:this.navigateMap.bind(this,0),getPortalGroups:E.portalGroup.getPortalGroups,getPortalsWithoutGroups:this.getPortalsWithoutGroups.bind(this),updatePortalSiteGroups:this.updatePortalSiteGroups.bind(this)})),2===e.selectedPage&&u["default"].createElement(m["default"],{isOpen:2===e.selectedPage},u["default"].createElement(v.ExportPortal,{onCancel:this.cancelExport.bind(this)})))}}]),t}(s.Component);y.PropTypes={dispatch:s.PropTypes.func.isRequired,selectedPage:s.PropTypes.number,selectedPageVisibleIndex:s.PropTypes.number},t["default"]=(0,c.connect)(i)(y)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddToSiteGroup=void 0;var o=r(1),a=e(o),n=r(15),i=e(n),l=r(8),s=e(l);r(81),t.AddToSiteGroup=function(e){var t=Array.isArray(e.siteGroups)?e.siteGroups:[],r=t.map(function(e,t){return{value:t,label:e.name,id:e.id,members:e.members}});r.push({value:-1,label:"<"+s["default"].get("NoneSpecified")+">"}),r.reverse();var o=a["default"].createElement("div",null,a["default"].createElement("hr",{style:{marginBottom:"20px"}}),a["default"].createElement("div",{className:"AddToSiteGroup"},a["default"].createElement("div",{className:"dropdown"},a["default"].createElement("p",null,e.addToSiteGroupLabel),a["default"].createElement(i["default"],{style:{width:"100%",height:"35px"},label:"",options:r,onSelect:function(t){return e.saveSiteGroups(t)},withBorder:!0,prependWith:e.selectedSiteGroup}))),a["default"].createElement("hr",{style:{margin:"30px 0px"}})),n=r.length>1?o:null;return n}}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=e(o),n=r(8),i=e(n);r(82);var l=function(e){var t=e.template,r=e.onSelect,o=e.selected,n=e.thumbnail;return a["default"].createElement("div",{className:"template-thumbnail"+(o?" selected":""),onClick:r.bind(void 0,t.Value)},a["default"].createElement("div",{className:"template-thumbnail-overlay"},a["default"].createElement("p",null,i["default"].getFromPlatform("CreateSite_SelectTemplate.Overlay"))),a["default"].createElement("div",{className:"template-thumbnail-container",style:{backgroundImage:"url('"+(n||"http://placehold.it/500x500")+"')"}}),a["default"].createElement("div",{className:"template-thumbnail-info"},t.Name))};t["default"]=l}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=void 0;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]}function l(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function s(e){return{portalTemplates:e.exportPortal.templates}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),d=r(1),f=e(d),g=r(7),m=r(23),h=e(m),S=r(22),v=e(S),E=r(11),y=r(10),b=e(y),_=r(96),T=e(_),P=r(24),w=e(P),I=r(21),G=e(I),x=r(98),O=e(x),R=r(13),A=e(R),D=r(100),C=e(D),M=r(8),k=e(M),L=r(16),N=e(L),F=r(51),U=e(F),j=r(25),V=r(50),B=r(20),z=e(B);r(83);var W={SiteTemplate:"",SiteName:"",SiteAlias:"",SiteDescription:"",SiteKeywords:"",IsChildSite:!1,HomeDirectory:"Portals/[PortalID]",UseCurrentUserAsAdmin:!0,Firstname:"",Lastname:"",Username:"",Email:"",Password:"",PasswordConfirm:""},H=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={defaultTemplate:"",newPortal:c({},W),error:{SiteName:!0,SiteAlias:!0,Firstname:!1,Lastname:!1,Username:!1,Email:!1,Password:!1,PasswordConfirm:!1},triedToSave:!1,creatingPortal:!1,addSiteGroups:{}},e}return n(t,e),p(t,[{key:"resetNewPortal",value:function(){this.setState({newPortal:c({},W)})}},{key:"saveSiteGroups",value:function(e){var t="id"in e?e:{};this.setState({addSiteGroups:t})}},{key:"componentWillMount",value:function(){var e=this,t=this.props,r=this.state;t.dispatch(E.CommonPortalListActions.getPortalTemplates(function(t){var o=r.newPortal;o.SiteTemplate=t.Results.DefaultTemplate,e.setState({defaultTemplate:t.Results.DefaultTemplate,newPortal:o})})),this.props.dispatch(this.props.getPortalGroups(function(t){e.setState({siteGroups:t})}))}},{key:"resolveSiteUrl",value:function(e){var t=i(window.location.href);if(e){var r=this.state,o=r.newPortal,a=r.error;""!==o.SiteAlias&&o.SiteAlias.indexOf(t)===-1?o.SiteAlias=t+"/"+o.SiteAlias:o.SiteAlias=t+"/"+o.SiteName,a.SiteAlias=this.resolveSiteAliasError(o.SiteAlias,e),this.setState({newPortal:o,error:a})}else{var n=this.state.newPortal;n.SiteAlias=n.SiteAlias.replace(t+"/",""),this.setState({newPortal:n})}}},{key:"resolveSiteAliasError",value:function(e,t){var r=i(window.location.href),o=e.replace(r+"/","");if(t){var a=/[^\/a-z0-9_-]/i;return!!(a.test(o)&&""!==o||e.indexOf(r+"/")===-1||""===o||e.indexOf(" ")>0)}var n=/[^\/a-z0-9.:]/i;return""===e||n.test(e)||e.indexOf(" ")>0}},{key:"resolvePasswordError",value:function(e){return e!==this.state.newPortal.Password||""===e}},{key:"resolveEmailError",value:function(e){return!l(e)}},{key:"onChange",value:function(e,t){var r="object"===("undefined"==typeof t?"undefined":u(t))?t.target.value:t,o=this.state,a=o.newPortal,n=o.error;switch(e){case"IsChildSite":a[e]="true"===r,this.resolveSiteUrl("true"===r);break;case"PasswordConfirm":a[e]=r,n[e]=this.resolvePasswordError(r);break;case"Email":a[e]=r,n[e]=this.resolveEmailError(r);break;case"Password":case"Firstname":case"Lastname":case"Username":case"SiteName":a[e]=r,n[e]=""===r;break;case"SiteAlias":a[e]=r,n[e]=this.resolveSiteAliasError(r,a.IsChildSite);break;case"UseCurrentUserAsAdmin":a[e]=r,r===!0?(n.Firstname=!1,n.Lastname=!1,n.Username=!1,n.Email=!1,n.Password=!1,n.PasswordConfirm=!1):(n.Firstname=""===a.Firstname,n.Lastname=""===a.Lastname,n.Username=""===a.Username,n.Email=this.resolveEmailError(a.Email),n.Password=""===a.Password,n.PasswordConfirm=this.resolvePasswordError(a.PasswordConfirm));break;default:a[e]=r}this.setState({newPortal:a,error:n})}},{key:"onSelect",value:function(e){var t=this.state.newPortal;t.SiteTemplate=e,this.setState({newPortal:t})}},{key:"checkForError",value:function(e,t){if(""===e[t])return!0}},{key:"setCreatingPortal",value:function(e){this.setState({creatingPortal:e})}},{key:"updatePortalSiteGroups",value:function(){var e=this,t=this.props;t.getPortalsWithoutGroups(function(r){var o=c({},e.state.addSiteGroups),a=c({},e.state.newPortal),n=r.Results,i=n.filter(function(e){return e.PortalName===a.SiteName}).map(function(e){return e.PortalID})[0];t.updatePortalSiteGroups(o,i),e.setCreatingPortal(!1),e.resetNewPortal(),e.setState({addSiteGroups:{}})})}},{key:"createPortal",value:function(){var e=this,t=this.props,r=this.state,o=r.triedToSave;o=!0,this.setState({triedToSave:o},function(){var o=!1;Object.keys(r.error).forEach(function(e){r.error[e]&&(o=!0)}),o||(e.setCreatingPortal(!0),t.dispatch(E.CommonPortalListActions.createPortal(r.newPortal,function(){t.onCancel();var r=function(){e.updatePortalSiteGroups()},o=function(){e.setCreatingPortal(!1),e.resetNewPortal()};Object.keys(e.state.addSiteGroups).length?r():o()})))})}},{key:"onCancel",value:function(e){e&&e.preventDefault(),this.props.onCancel(),this.resetNewPortal()}},{key:"render",value:function(){var e=this,t=this.props,r=this.state,o=t.portalTemplates.map(function(t){var o=t.Value.substring(t.Value.lastIndexOf("|")+1,t.Value.length);return f["default"].createElement(U["default"],{template:t,onSelect:e.onSelect.bind(e),thumbnail:o,selected:t.Value===r.newPortal.SiteTemplate})}),a=265*t.portalTemplates.length;return f["default"].createElement("div",{className:"create-portal"},f["default"].createElement(h["default"],{title:k["default"].get("AddNewSite.Header")}),f["default"].createElement(v["default"],{backToLinkProps:{text:k["default"].getFromPlatform("BackToSites"),onClick:this.onCancel.bind(this)}},f["default"].createElement(b["default"],{className:"create-site-container"},f["default"].createElement(b["default"],null,f["default"].createElement(w["default"],{label:k["default"].get("Title.Label")+"*",inputId:"add-new-site-title",value:r.newPortal.SiteName,errorMessage:k["default"].getFromPlatform("SiteTitleRequired.Error"),onChange:this.onChange.bind(this,"SiteName"),error:r.error.SiteName&&r.triedToSave})),f["default"].createElement(b["default"],null,f["default"].createElement(G["default"],{label:k["default"].get("Description"),inputId:"add-new-site-description",value:r.newPortal.SiteDescription,className:"portal-description",onChange:this.onChange.bind(this,"SiteDescription"),error:!1})),f["default"].createElement(b["default"],null,f["default"].createElement("hr",null)),f["default"].createElement(b["default"],null,f["default"].createElement(z["default"],{label:k["default"].get("SiteTemplate.Label"),style:{marginTop:25,fontWeight:"bold"}})),f["default"].createElement(b["default"],{className:"site-thumbnails-container"},f["default"].createElement(j.Scrollbars,{style:{width:"100%",height:"100%"},className:"site-thumbnails"},f["default"].createElement("div",{style:{width:a,height:"100%",paddingBottom:15}},o))),f["default"].createElement(b["default"],{className:"site-type-container"},f["default"].createElement("hr",{style:{marginBottom:"20px"}}),f["default"].createElement(b["default"],{columnSize:50},f["default"].createElement(O["default"],{label:k["default"].get("SiteType.Label"),onChange:this.onChange.bind(this,"IsChildSite"),buttonGroup:"siteType",value:r.newPortal.IsChildSite,buttonWidth:100,options:[{label:k["default"].get("Domain"),value:!1},{label:k["default"].get("Directory"),value:!0}]})),f["default"].createElement(b["default"],{columnSize:50},f["default"].createElement(w["default"],{label:k["default"].get("Directory"),className:"home-directory",inputId:"home-directory",value:r.newPortal.HomeDirectory,onChange:this.onChange.bind(this,"HomeDirectory"),labelType:"inline",error:!1})),f["default"].createElement(b["default"],null,f["default"].createElement(w["default"],{label:k["default"].get("SiteUrl.Label"),inputId:"site-url",value:r.newPortal.SiteAlias,onChange:this.onChange.bind(this,"SiteAlias"),errorMessage:k["default"].getFromPlatform("SiteAliasRequired.Error"),error:r.error.SiteAlias&&r.triedToSave})),f["default"].createElement(b["default"],null,f["default"].createElement(V.AddToSiteGroup,{addToSiteGroupLabel:k["default"].get("AddToSiteGroup"),noneLabel:k["default"].get("None"),selectedSiteGroup:this.state.addSiteGroups.label,siteGroups:this.state.siteGroups,saveSiteGroups:this.saveSiteGroups.bind(this)}))),f["default"].createElement(b["default"],{className:"user-as-admin"},f["default"].createElement(C["default"],{label:k["default"].get("AssignCurrentUserAsAdmin.Label"),value:r.newPortal.UseCurrentUserAsAdmin,onChange:this.onChange.bind(this,"UseCurrentUserAsAdmin")}),f["default"].createElement(N["default"],{style:{"float":"left"},isOpened:!r.newPortal.UseCurrentUserAsAdmin},f["default"].createElement(T["default"],{className:"with-right-border top-half"},f["default"].createElement(b["default"],null,f["default"].createElement(w["default"],{label:k["default"].getFromPlatform("CreateSite_AdminUserName.Label"),inputId:"admin-user-name",value:r.newPortal.Username,onChange:this.onChange.bind(this,"Username"),errorMessage:k["default"].getFromPlatform("UsernameRequired.Error"),error:r.error.Username&&r.triedToSave&&!r.newPortal.UseCurrentUserAsAdmin}),f["default"].createElement(w["default"],{label:k["default"].getFromPlatform("CreateSite_AdminFirstName.Label"),inputId:"admin-first-name",value:r.newPortal.Firstname,onChange:this.onChange.bind(this,"Firstname"),errorMessage:k["default"].getFromPlatform("FirstNameRequired.Error"),error:r.error.Firstname&&r.triedToSave&&!r.newPortal.UseCurrentUserAsAdmin}),f["default"].createElement(w["default"],{label:k["default"].getFromPlatform("CreateSite_AdminLastName.Label"),inputId:"admin-last-name",value:r.newPortal.Lastname,onChange:this.onChange.bind(this,"Lastname"),errorMessage:k["default"].getFromPlatform("LastNameRequired.Error"),error:r.error.Lastname&&r.triedToSave&&!r.newPortal.UseCurrentUserAsAdmin})),f["default"].createElement(b["default"],null,f["default"].createElement(w["default"],{label:k["default"].getFromPlatform("CreateSite_AdminEmail.Label"),inputId:"admin-email",value:r.newPortal.Email,onChange:this.onChange.bind(this,"Email"),errorMessage:k["default"].getFromPlatform("EmailRequired.Error"),error:r.error.Email&&r.triedToSave&&!r.newPortal.UseCurrentUserAsAdmin}),f["default"].createElement(w["default"],{label:k["default"].getFromPlatform("CreateSite_AdminPassword.Label"),inputId:"admin-password",value:r.newPortal.Password,type:"password",onChange:this.onChange.bind(this,"Password"),errorMessage:k["default"].getFromPlatform("PasswordRequired.Error"),error:r.error.Password&&r.triedToSave&&!r.newPortal.UseCurrentUserAsAdmin}),f["default"].createElement(w["default"],{label:k["default"].getFromPlatform("CreateSite_AdminPasswordConfirm.Label"),inputId:"admin-password-confirm",type:"password",value:r.newPortal.PasswordConfirm,errorMessage:k["default"].getFromPlatform("PasswordConfirmRequired.Error"),onChange:this.onChange.bind(this,"PasswordConfirm"),error:r.error.PasswordConfirm&&r.triedToSave&&!r.newPortal.UseCurrentUserAsAdmin}))))),f["default"].createElement(b["default"],{className:"site-action-buttons"},f["default"].createElement(A["default"],{type:"secondary",onClick:this.onCancel.bind(this)},k["default"].get("cmdCancel")),f["default"].createElement(A["default"],{type:"primary",disabled:this.state.creatingPortal,onClick:this.createPortal.bind(this)},k["default"].get("cmdCreateSite"))))))}}]),t}(d.Component);t["default"]=(0,g.connect)(s)(H)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=e(o),n=r(103),i=e(n),l=function(e){var t=e.portalButtons,r=e.siteName;return a["default"].createElement("div",{className:"portal-card-overlay"},a["default"].createElement("div",{className:"icon-container"},t),a["default"].createElement(i["default"],{text:r}))};t["default"]=l}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=e(o),n=r(53),i=e(n),l=r(102),s=(e(l),r(104)),u=e(s),c=r(2),p=e(c),d=r(14),f=e(d);r(84);var g=r(40),m=r(42),h=r(41),S=50,v=function(e,t){var r=[];"undefined"==typeof e&&(e=f["default"].settings.params.settings.defaultThumbnail);var o=e.indexOf("fallback-thumbnail.png")>-1;return r.push(a["default"].createElement("img",{className:"thumbnail list"+(o?" empty-thumbnail":""),src:e,alt:t})),r.push(a["default"].createElement("div",{className:"empty-thumbnail"+(o?"":" need-hide"),dangerouslySetInnerHTML:{__html:h}})),r},E=function(e){return e&&e.length>S&&(e=e.substr(0,S)+"..."),e},y=function(e,t){return a["default"].createElement("div",{className:"portal-card-container"},a["default"].createElement("div",{className:"portal-card","data-id":e.PortalID,"data-url":e.PortalAliases.length>0?e.PortalAliases[0].link:""},v(e.Thumbnail,e.PortalName),a["default"].createElement("div",{className:"portal-info-container"},a["default"].createElement("div",{className:"portal-name"},E(e.PortalName)),a["default"].createElement("p",{className:"last-modified"},(0,u["default"])(e.LastModifiedOnDate).locale(p["default"].getCulture()).fromNow()),a["default"].createElement("p",{className:"card-data"},a["default"].createElement("span",{dangerouslySetInnerHTML:{__html:m}}),e.Users),a["default"].createElement("p",{className:"card-data"},a["default"].createElement("span",{dangerouslySetInnerHTML:{__html:g}}),e.Pages))),a["default"].createElement(i["default"],{portalButtons:t,siteName:e.PortalName}))},b=function(e){var t=e.portal,r=e.portalButtons;return y(t,r)};b.propTypes={portal:o.PropTypes.object,portalButtons:o.PropTypes.node},t["default"]=b}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{portals:e.portal.portals,totalCount:e.portal.totalCount,viewMode:e.viewMode}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=r(1),c=e(u),p=r(7),d=r(54),f=e(d),g=r(8),m=e(g),h=r(9),S=r(2),v=e(S),E=r(14),y=e(E),b=r(11),_=r(10),T=e(_),P=r(12);r(85);var w=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.thumbnailHandler=null,e}return n(t,e),s(t,[{key:"componentWillMount",value:function(){this.checkThumbnail(),this.props}},{key:"componentWillReceiveProps",value:function(){this.checkThumbnail()}},{key:"checkThumbnail",value:function(){var e=this.props;this.thumbnailHandler&&clearTimeout(this.thumbnailHandler),this.thumbnailHandler=setTimeout(function(){var t=window.$(".portal-card-container"),r=new y["default"].settings.siteThumbnails({onThumbnailCreated:function(t){e.dispatch(h.portal.updateThumbnail(t.portalId,t.thumbnails[2]))}});r.init(t),r.updateThumbnails()},1500)}},{key:"onDelete",value:function(e,t){var r=this.props;v["default"].confirm(m["default"].getFromPlatform("deletePortal").replace("{0}",e.PortalName),m["default"].getFromPlatform("ConfirmPortalDelete"),m["default"].getFromPlatform("CancelPortalDelete"),function(){r.dispatch(h.portal.deletePortal(e.PortalID,t))})}},{key:"backToSites",value:function(){v["default"].loadPanel("Dnn.Sites",{})}},{key:"onSetting",value:function(e){var t=document.createEvent("Event");t.initEvent("portalIdChanged",!0,!0);var r={portalId:e.PortalID,referrer:"Dnn.Sites",referrerText:m["default"].getFromPlatform("BackToSites"),backToReferrerFunc:this.backToSites.bind(this),isHost:!0};t=l(t,r),v["default"].loadPanel("Dnn.SiteSettings",{settings:r}),document.dispatchEvent(t)}},{key:"onPreview",value:function(e){var t=this.props;t.closePersonaBar(function(){e.PortalAliases&&e.PortalAliases.length>0&&window.open(e.PortalAliases[0].link)})}},{key:"onImportExport",value:function(e,t){var r=document.createEvent("Event");r.initEvent("siteImportExport",!0,!0);var o={importExportJob:{portalId:e.PortalID,portalName:e.PortalName,jobType:t},referrer:"Dnn.Sites",referrerText:m["default"].getFromPlatform("BackToSites"),backToReferrerFunc:this.backToSites.bind(this)};r=l(r,o),v["default"].loadPanel("Dnn.SiteImportExport",{settings:o}),document.dispatchEvent(r)}},{key:"getPortalButtons",value:function(e,t){var r=[{icon:P.PreviewIcon,onClick:this.onPreview.bind(this,e,t),title:m["default"].getFromPlatform("ViewSite")},{icon:P.SettingsIcon,onClick:this.onSetting.bind(this,e,t),title:m["default"].getFromPlatform("SiteSettings")},{icon:P.UploadIcon,onClick:this.onImportExport.bind(this,e,"Export",t),title:m["default"].get("SiteExport")},{icon:P.DownloadIcon,onClick:this.onImportExport.bind(this,e,"Import",t),title:m["default"].get("SiteImport")}];return e.allowDelete&&r.push({icon:P.TrashIcon,onClick:this.onDelete.bind(this,e,t),title:m["default"].getFromPlatform("DeleteSite")}),r.map(function(e){return c["default"].createElement("div",{dangerouslySetInnerHTML:{__html:e.icon},title:e.title,onClick:e.onClick})})}},{key:"navigateMap",value:function(e){var t=this.props;t.dispatch(b.CommonVisiblePanelActions.selectPanel(e))}},{key:"getDetailList",value:function(){var e=this,t=this.props;return t.portals.map(function(r,o){return r.PortalAliases&&c["default"].createElement(f["default"],{key:"portal-"+r.PortalID,portal:r,portalButtons:e.getPortalButtons(r,o),portalStatisticInfo:t.getPortalMapping(r)})})}},{key:"render",value:function(){var e=this.getDetailList(),t=this.props;return c["default"].createElement(T["default"],{className:"portals-cardview-list"+t.className},c["default"].createElement(T["default"],null,e))}}]),t}(u.Component);t["default"]=(0,p.connect)(i)(w)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{portalGroups:e.portalGroup.portalGroups,pagination:e.pagination}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=r(1),u=e(s),c=r(7),p=r(99),d=e(p),f=r(10),g=e(f),m=r(15),h=e(m),S=r(9);r(86);var v=r(38),E=r(39),y={display:"block",width:"100%",height:30,"float":"right"},b={width:19,height:19,right:0},_=[{name:"All",id:-1}],T=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={value:!0,type:"card"},e}return n(t,e),l(t,[{key:"onEnter",value:function(e){var t=this.state;alert("You pressed enter! My value is: "+t[e])}},{key:"onCardView",value:function(){var e=this.props,t=this.state;"card"!==t.type&&this.setState({type:"card"},function(){"function"==typeof e.onCardView&&e.onCardView()})}},{key:"onListView",value:function(){var e=this.props,t=this.state;"list"!==t.type&&this.setState({type:"list"},function(){"function"==typeof e.onListView&&e.onListView()})}},{key:"getPortalGroupDropdown",value:function(){return this.props.portalGroups&&_.concat(this.props.portalGroups).map(function(e){return{label:e.name,value:e.id}})}},{key:"onFilterSelect",value:function(e){var t=this.props;t.dispatch(S.pagination.filterBySiteGroup(e.value,function(){t.dispatch(S.portal.loadPortals({pageIndex:t.pagination.pageIndex,pageSize:t.pagination.pageSize,portalGroupId:e.value,filter:""}))}))}},{key:"render",value:function(){var e=this.props,t=this.state,r=this.getPortalGroupDropdown();return u["default"].createElement(g["default"],{className:"controls-container"},u["default"].createElement(g["default"],{className:"controls"},u["default"].createElement(g["default"],{className:"view-state-container",columnSize:8},u["default"].createElement("div",{dangerouslySetInnerHTML:{__html:v},className:"card"===t.type?"selected":"",onClick:this.onCardView.bind(this)}),u["default"].createElement("div",{dangerouslySetInnerHTML:{__html:E},className:"list"===t.type?"selected":"",onClick:this.onListView.bind(this)})),this.props.portalGroups.length>0&&u["default"].createElement(g["default"],{className:"sitegroup-filter-container",columnSize:35},u["default"].createElement(h["default"],{options:r,label:"Filter by Site Group",value:e.pagination.portalGroupId,onSelect:this.onFilterSelect.bind(this),withBorder:!1,prependWith:"Site Group:"})),u["default"].createElement(g["default"],{className:"search-box-container",columnSize:35},u["default"].createElement(d["default"],{style:y,iconStyle:b,width:20,height:20,onSearch:e.onSearch.bind(this)}))))}}]),t}(s.Component);t["default"]=(0,c.connect)(i)(T)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return{id:-1,name:"",description:"",masterPortal:{id:-1}}}function l(){return{name:!0,description:!0,masterPortal:!0}}function s(e){return{portals:e.portal.portals,siteGroupFormDirty:e.portalGroup.siteGroupFormDirty,pagination:e.pagination}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),p=r(1),d=e(p),f=r(7),g=r(9),m=r(10),h=e(m),S=r(24),v=e(S),E=r(21),y=e(E),b=r(13),_=e(b),T=r(94),P=e(T),w=r(8),I=e(w),G=r(16),x=e(G),O=r(12);r(87);var R=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={newSiteGroup:i(),error:l(),triedToSave:!1},e}return n(t,e),c(t,[{key:"onChange",value:function(e,t){var r="object"===("undefined"==typeof t?"undefined":u(t))?t.target.value:t,o=this.state,a=o.newSiteGroup,n=o.error,i=this.props;switch(i.siteGroupFormDirty||i.dispatch(g.portalGroup.setSiteGroupFormDirt(!0)),
e){case"name":case"description":a[e]=r,n[e]=""===r;break;default:a[e]=r}this.setState({newSiteGroup:a})}},{key:"onSelect",value:function(e,t){var r=this.state,o=r.newSiteGroup,a=r.error;o[e].id=t.value,a[e]=!1,this.setState({newSiteGroup:o})}},{key:"onSave",value:function(){var e=this,t=this.props,r=this.state,o=r.triedToSave,a=r.error;o=!0,this.setState({triedToSave:o,error:a},function(){var o=!1;Object.keys(r.error).forEach(function(e){r.error[e]&&(o=!0)}),o||(t.siteGroupFormDirty&&t.dispatch(g.portalGroup.setSiteGroupFormDirt(!1)),t.dispatch(g.portalGroup.createPortalGroup(r.newSiteGroup,function(){e.props.dispatch(g.portalGroup.getPortalsWithoutGroup()),e.onCancel(),t.dispatch(g.pagination.resetPagination()),t.dispatch(g.portal.loadPortals({portalGroupId:-1,filter:"",pageIndex:0,pageSize:t.pagination.pageSize}))})))})}},{key:"onCancel",value:function(){this.setState({newSiteGroup:i(),error:l(),triedToSave:!1}),this.props.dispatch(g.portalGroup.setDetailView(-2)),this.props.dispatch(g.portalGroup.setSiteGroupFormDirt(!1)),this.props.dispatch(g.portalGroup.setSiteSelectionFormDirt(!1))}},{key:"render",value:function(){var e=this.props,t=this.state,r=e.availableSites.map(function(e){return{label:e.name,value:e.id}});return d["default"].createElement(x["default"],{isOpened:e.isOpened,keepCollapsedContent:!1,className:"create-site-group-box"+(e.isOpened?" opened":""),style:{"float":"left"}},d["default"].createElement(h["default"],{className:"group-row-summary"},d["default"].createElement("div",null,d["default"].createElement("div",{className:"site-group-icon",dangerouslySetInnerHTML:{__html:O.SiteGroupIcon}}),"-")),d["default"].createElement(h["default"],{className:"create-site-group"},d["default"].createElement(h["default"],{className:"create-site-container"},d["default"].createElement(h["default"],null,d["default"].createElement(v["default"],{label:I["default"].get("EditSiteGroup_Name.Label")+"*",tooltipMessage:I["default"].get("EditSiteGroup_Name.HelpText"),inputId:"nsg-name",error:t.error.name&&t.triedToSave,value:t.newSiteGroup.name,onChange:this.onChange.bind(this,"name")})),d["default"].createElement(h["default"],null,d["default"].createElement(y["default"],{label:I["default"].get("EditSiteGroup_Description.Label")+"*",tooltipMessage:I["default"].get("EditSiteGroup_Description.HelpText"),inputId:"nsg-description",error:t.error.description&&t.triedToSave,value:t.newSiteGroup.description,onChange:this.onChange.bind(this,"description")})),d["default"].createElement(h["default"],{className:"nsg-master-site"},d["default"].createElement(P["default"],{options:r,label:I["default"].get("EditSiteGroup_MasterSite.Label")+"*",tooltipMessage:I["default"].get("EditSiteGroup_MasterSite.HelpText"),value:t.newSiteGroup.masterPortal.id,onSelect:this.onSelect.bind(this,"masterPortal"),error:t.error.masterPortal&&t.triedToSave})),d["default"].createElement(h["default"],{className:"site-action-buttons"},d["default"].createElement(_["default"],{type:"secondary",onClick:this.onCancel.bind(this)},I["default"].get("cmdCancel")),d["default"].createElement(_["default"],{type:"primary",onClick:this.onSave.bind(this)},I["default"].get("CreateSiteGroup_Create.Button"))))))}}]),t}(p.Component);t["default"]=(0,f.connect)(s)(R)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=r(59);Object.defineProperty(t,"EditableWithDropdown",{enumerable:!0,get:function(){return e.EditableWithDropdown}})}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditableWithDropdown=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(1),s=e(l),u=r(61),c=r(15),p=e(c),d=r(60),f=r(12),g=d.global.styles,m=g["float"](),h=g.merge;t.EditableWithDropdown=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),i(t,[{key:"componentWillMount",value:function(){this.init(),this.state={options:[],selection:{label:""},editMode:!1}}},{key:"init",value:function(){this.setState({editMode:!1,selection:{label:this.props.defaultSelection}});var e=this.props.getOptions();this.setState({options:e})}},{key:"showLabel",value:function(){this.setState({editMode:!1})}},{key:"showDropdown",value:function(){this.setState({editMode:!0})}},{key:"onDropdownSelection",value:function(e){this.setState({selection:e,editMode:!1}),this.props.onUpdate(e)}},{key:"render_dropdown",value:function(){var e=this,t=g.padding({left:15}),r=this.render_backIcon.call(this);return s["default"].createElement("div",null,s["default"].createElement("div",{style:m},r),s["default"].createElement("div",{style:h(t,m)},s["default"].createElement(p["default"],{label:"",options:this.state.options,onSelect:function(t){return e.onDropdownSelection.call(e,t)},withBorder:!0,prependWith:this.props.label.toUpperCase()})))}},{key:"render_icon",value:function(){var e=g.width(30,"px"),t=g.padding({left:10}),r=g.cursor("pointer");return s["default"].createElement("div",{style:h(e,t,m,r),className:"edit-button",onClick:this.showDropdown.bind(this),dangerouslySetInnerHTML:{__html:f.EditIcon}})}},{key:"render_backIcon",value:function(){var e=g.width(30,"px"),t=g.padding({left:10}),r=g.margin({top:5}),o=g.cursor("pointer");return s["default"].createElement("div",{style:h(e,t,r,m,o),className:"edit-button",onClick:this.showLabel.bind(this),dangerouslySetInnerHTML:{__html:f.ArrowBack}})}},{key:"render_label",value:function(){var e=g.fontBold();return s["default"].createElement("div",{style:h(m)},s["default"].createElement("label",{style:h(e)},this.props.label.toUpperCase()))}},{key:"render_name",value:function(e){var t=g.clearFix();return s["default"].createElement("p",{style:h(t)},e.label)}},{key:"render_display",value:function(){var e=this.render_icon.call(this),t=this.render_label.call(this),r=this.render_name.call(this,this.state.selection),o=g.padding({top:10,bottom:10,right:0,left:30});return s["default"].createElement("div",{style:h(o)},t,e,r)}},{key:"render",value:function r(){var e=this.render_dropdown.call(this,u.mocked),t=this.render_display.call(this),r=this.state.editMode?e:t;return r}}]),t}(l.Component)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};t.global={styles:{cursor:function(e){return{cursor:e}},display:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";return{display:e}},listStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return{listStyle:e}},textAlign:function(e){return{textAlign:e}},fontBold:function(){return{fontWeight:"bold"}},"float":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left";return{"float":e}},clearFix:function(e){return{clear:e||"both"}},padding:function(e){var t=e.top,r=void 0===t?0:t,o=e.left,a=void 0===o?0:o,n=e.right,i=void 0===n?0:n,l=e.bottom,s=void 0===l?0:l,u=e.all,c=void 0===u?void 0:u,p=e.horizontal,d=void 0===p?void 0:p,f=e.vertical,g=void 0===f?void 0:f;return{padding:" "+(c||g||r)+"px\n                                "+(c||d||i)+"px\n                                "+(c||g||s)+"px\n                                "+(c||d||a)+"px"}},margin:function(e){var t=e.top,r=void 0===t?0:t,o=e.left,a=void 0===o?0:o,n=e.right,i=void 0===n?0:n,l=e.bottom,s=void 0===l?0:l,u=e.all,c=void 0===u?void 0:u,p=e.horizontal,d=void 0===p?void 0:p,f=e.vertical,g=void 0===f?void 0:f;return{margin:"\n                              "+(c||g||r)+"px\n                              "+(c||d||i)+"px\n                              "+(c||g||s)+"px\n                              "+(c||d||a)+"px"}},width:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%";return{width:""+e+t}},height:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return{height:""+e+t}},backgroundColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"orange";return{backgroundColor:e}},merge:function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.apply(void 0,[{}].concat(r))}}}}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mocked=[{value:1,label:"option a"},{value:2,label:"option b"},{value:3,label:"option c"},{value:4,label:"option d"}]}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,r){return e.map(function(e){return c(e,{selected:t,isMember:r,deleteUsers:!1})})}function s(e){return{editMemberMode:e.portalGroup.editMemberMode,portalGroups:e.portalGroup.portalGroups,currentSelectedSites:e.portalGroup.currentSelectedSites,availableSites:e.portalGroup.availableSites,pagination:e.pagination,siteGroupFormDirty:e.portalGroup.siteGroupFormDirty,siteSelectionDirty:e.portalGroup.siteSelectionDirty}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},p=r(1),d=e(p),f=r(7),g=r(8),m=e(g),h=r(9),S=r(2),v=e(S),E=r(10),y=e(E),b=r(20),_=e(b),T=r(13),P=e(T),w=r(95),I=e(w),G=r(16),x=e(G),O=r(12),R=r(93),A=e(R),D=r(25),C=r(58);r(88);var M=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props;this.state={id:e.group.id,name:e.group.name,description:e.group.description,masterPortalId:e.group.masterPortal.id,masterPortalName:e.group.masterPortal.name,domain:e.group.domain,members:e.group.members.map(function(e){return c({},e)}),editMemberMode:!1,siteList:l(v["default"].getObjectCopy(e.availableSites),!1,!1).concat(l(v["default"].getObjectCopy(e.group.members),!0,!0))}}},{key:"onEnter",value:function(e,t){var r=this;this.setState(o({},e,t),function(){r.saveGroup()})}},{key:"saveAuthenticationDomain",value:function(e){var t=this.props,r=this.state,o={id:r.id,name:r.name,description:r.description,masterPortal:{id:e.id},domain:e.label};this.setState({domain:e.label}),t.dispatch(h.portalGroup.savePortalGroup(o,t.portalGroupIndex))}},{key:"saveGroup",value:function(){var e=this.props,t=this.state,r={id:t.id,name:t.name,description:t.description,masterPortal:{id:t.masterPortalId},domain:t.domain};e.dispatch(h.portalGroup.savePortalGroup(r,e.portalGroupIndex))}},{key:"getAddRemoveViewList",value:function(){var e=this.props;return l(v["default"].getObjectCopy(e.availableSites),!1,!1).concat(l(v["default"].getObjectCopy(e.group.members),!0,!0))}},{key:"toggleEditMemberView",value:function(){var e=this,t=this.props;t.dispatch(h.portalGroup.toggleEditMemberMode()),t.editMemberMode||t.dispatch(h.portalGroup.getPortalsWithoutGroup(function(){e.setState({siteList:e.getAddRemoveViewList()})})),t.siteSelectionDirty&&this.setSiteSelectionFormDirt(!1)}},{key:"setSiteSelectionFormDirt",value:function(e){this.props.dispatch(h.portalGroup.setSiteSelectionFormDirt(e))}},{key:"updateSiteList",value:function(e){this.setState({siteList:e}),this.props.siteSelectionDirty||this.setSiteSelectionFormDirt(!0)}},{key:"onToggleSelectSite",value:function(e,t){var r=this,o=this.props,a=this.state.siteList,n=a.findIndex(function(t){return t.id===e});o.siteSelectionDirty||o.dispatch(h.portalGroup.setSiteSelectionFormDirt(!0)),a[n].selected=t,!t&&a[n].isMember?v["default"].confirm(m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Warning"),m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Confirm"),m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Cancel"),function(){setTimeout(function(){v["default"].confirm(m["default"].get("EditSiteGroup_ConfirmRemoval.Warning")+m["default"].get("EditSiteGroup_RemoveWithUsers.Info"),m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Confirm"),m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Cancel"),function(){a[n].deleteUsers=!0,r.updateSiteList(a)},function(){a[n].selected=!0,r.updateSiteList(a)})},500)},function(){setTimeout(function(){v["default"].confirm(m["default"].get("EditSiteGroup_ConfirmRemoval.Warning")+m["default"].get("EditSiteGroup_RemoveWithoutUsers.Info"),m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Confirm"),m["default"].get("EditSiteGroup_RemoveUsersFromGroup.Cancel"),function(){a[n].deleteUsers=!1,r.updateSiteList(a)},function(){a[n].selected=!0,r.updateSiteList(a)})},500)}):a[n].isMember&&(a[n].deleteUsers=!1,this.updateSiteList(a))}},{key:"onDelete",value:function(){var e=this,t=this.props;v["default"].confirm(m["default"].get("EditSiteGroup_DeletePortalGroup.Warning").replace("{0}",t.group.name),m["default"].get("EditSiteGroup_DeletePortalGroup.Confirm"),m["default"].get("EditSiteGroup_DeletePortalGroup.Cancel"),function(){t.dispatch(h.portalGroup.deletePortalGroup(t.group.id,t.portalGroupIndex,function(){t.dispatch(h.pagination.resetPagination()),t.dispatch(h.portal.loadPortals({portalGroupId:-1,filter:"",pageIndex:0,pageSize:t.pagination.pageSize})),e.setState({siteList:e.getAddRemoveViewList()}),t.dispatch(h.portalGroup.getPortalsWithoutGroup())})),t.dispatch(h.portalGroup.setDetailView(-2))})}},{key:"updateSiteGroupMembers",value:function(){var e=this,t=this.props,r=this.state.siteList.filter(function(e){return!e.isMember&&e.selected}).map(function(e){return e.id}),o=this.state.siteList.filter(function(e){return e.isMember&&!e.selected}).map(function(e){return{id:e.id,deleteUsers:e.deleteUsers}});t.dispatch(h.portalGroup.updateGroupMembers(t.group.id,r,o,t.portalGroupIndex,function(){var t=e.props;t.dispatch(h.portalGroup.toggleEditMemberMode()),t.dispatch(h.portalGroup.getPortalsWithoutGroup()),t.dispatch(h.portalGroup.setSiteSelectionFormDirt(!1))}))}},{key:"setSiteGroupDirt",value:function(e){this.props.dispatch(h.portalGroup.setSiteGroupFormDirt(e))}},{key:"onKeyUp",value:function(){var e=this.props;e.siteGroupFormDirty||this.setSiteGroupDirt(!0)}},{key:"onEscape",value:function(){var e=this.props;e.siteGroupFormDirty&&this.setSiteGroupDirt(!1)}},{key:"onCancel",value:function(){var e=this.props;e.onCancel(),e.siteSelectionDirty&&e.dispatch(h.portalGroup.setSiteSelectionFormDirt(!1))}},{key:"providePortalAliases",value:function(){var e=this.props,t=e.portalAliases.map(function(e,t){var r={value:t,label:e.HTTPAlias,id:e.PortalAliasID};return r});return t}},{key:"renderRow",value:function(){var e=this,t=this.props,r=this.state,o=this.state.siteList.map(function(t){var r=c({},t),o=t.isMember&&t.deleteUsers&&"delete-users-active";return d["default"].createElement("li",{className:o},d["default"].createElement(A["default"],{label:r.name,value:r.selected,onChange:e.onToggleSelectSite.bind(e,r.id)}))});return[d["default"].createElement(y["default"],{className:"group-row-summary"+(t.isOpened?" opened":"")},d["default"].createElement("div",{className:"site-group-header",onClick:t.toggleDetailView.bind(this)},d["default"].createElement("div",{className:"site-group-icon",dangerouslySetInnerHTML:{__html:O.SiteGroupIcon}}),t.group.name,d["default"].createElement("span",{className:"collapse-icon "+(t.isOpened?"":"collapsed")}))),d["default"].createElement(x["default"],{isOpened:t.isOpened,className:"group-row-detail"+(t.isOpened?" opened":"")},d["default"].createElement(y["default"],{className:"portal-group-detail-view"},d["default"].createElement(y["default"],{columnSize:50,className:"portal-group-details"},d["default"].createElement(I["default"],{label:m["default"].get("EditSiteGroup_Name.Label"),value:r.name,onEnter:this.onEnter.bind(this,"name"),onKeyUp:this.onKeyUp.bind(this),onEscape:this.onEscape.bind(this),inputType:"textArea"}),d["default"].createElement(I["default"],{label:m["default"].get("EditSiteGroup_Description.Label"),value:r.description,onEnter:this.onEnter.bind(this,"description"),inputType:"textArea"}),d["default"].createElement("div",{className:"master-portal-label"},d["default"].createElement("label",{className:"portal-label"}," ",m["default"].get("EditSiteGroup_MasterSite.Label")," "),d["default"].createElement("p",null,this.state.masterPortalName)),d["default"].createElement(C.EditableWithDropdown,{label:m["default"].get("EditSiteGroup_AuthenticationDomain.Label"),getOptions:this.providePortalAliases.bind(this),onUpdate:this.saveAuthenticationDomain.bind(this),defaultSelection:r.domain||t.masterPortalName})),d["default"].createElement(y["default"],{columnSize:50,className:"portal-group-checklist"},d["default"].createElement(y["default"],{className:"portal-group-members"},d["default"].createElement(y["default"],{className:"portal-group-members-action"},d["default"].createElement(_["default"],{label:t.editMemberMode?"Add / Remove Sites":"SITES ("+t.group.members.length+")",className:"portal-group-checklist-label"}),!t.editMemberMode&&d["default"].createElement("p",{className:"portal-group-edit-members",onClick:this.toggleEditMemberView.bind(this)},"Add / Remove Sites")),d["default"].createElement(y["default"],null,d["default"].createElement(D.Scrollbars,{style:{width:"100%",height:"200px",border:"1px solid #C8C8C8"}},!t.editMemberMode&&d["default"].createElement("ul",{className:"portal-group-members-list"},t.group.members.map(function(e){return d["default"].createElement("li",null,e.name)})),t.editMemberMode&&d["default"].createElement("ul",{className:"portal-group-members-list editable"},o)),t.editMemberMode&&d["default"].createElement(y["default"],{columnSize:"100",className:"update-portal-group-members"},d["default"].createElement(P["default"],{onClick:this.toggleEditMemberView.bind(this)},m["default"].get("Cancel")),d["default"].createElement(P["default"],{type:"primary",onClick:this.updateSiteGroupMembers.bind(this)},m["default"].get("EditSiteGroup_Save.Button")))))),d["default"].createElement(y["default"],{columnSize:"100",className:"actions"},d["default"].createElement(P["default"],{onClick:this.onDelete.bind(this)},m["default"].get("EditSiteGroup_Delete.Button")),d["default"].createElement(P["default"],{onClick:this.onCancel.bind(this)},m["default"].get("Close")))))]}},{key:"render",value:function(){return d["default"].createElement(y["default"],{className:"group-row"},this.renderRow())}}]),t}(p.Component);t["default"]=(0,f.connect)(s)(M)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return e.map(function(e){return u(e,{selected:t,isMember:!0,deleteUsers:!1})})}function l(e){return{portals:e.portal.portals,portalGroups:e.portalGroup.portalGroups,detailInfoIndex:e.portalGroup.detailInfoIndex,editMemberMode:e.portalGroup.editMemberMode,siteGroupFormDirty:e.portalGroup.siteGroupFormDirty,siteSelectionDirty:e.portalGroup.siteSelectionDirty,availableSites:e.portalGroup.availableSites}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c=r(1),p=e(c),d=r(7),f=r(8),g=e(f),m=r(9),h=r(11),S=r(10),v=e(S),E=r(12),y=r(62),b=e(y),_=r(57),T=e(_),P=r(2),w=e(P),I=r(89),G=e(I),x=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return n(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.dispatch(m.portalGroup.getPortalsWithoutGroup())}},{key:"confirmAction",value:function(e){var t=this;this.props.siteGroupFormDirty||this.props.siteSelectionDirty?w["default"].confirm(g["default"].get("SiteGroup_FormDirty.Warning"),g["default"].get("SiteGroup_FormDirty.Confirm"),g["default"].get("SiteGroup_FormDirty.Cancel"),function(){e(),t.props.dispatch(m.portalGroup.setSiteGroupFormDirt(!1)),t.props.dispatch(m.portalGroup.setSiteSelectionFormDirt(!1))}):(e(),this.props.dispatch(m.portalGroup.setSiteGroupFormDirt(!1)),this.props.dispatch(m.portalGroup.setSiteSelectionFormDirt(!1)))}},{key:"toggleDetailView",value:function(e,t,r){var o=this.props;this.confirmAction(function(){e!==o.detailInfoIndex?(o.dispatch(m.portalGroup.setDetailView(e)),o.dispatch(m.portalGroup.setSelectedSites(i(r,!0))),o.editMemberMode&&o.dispatch(m.portalGroup.toggleEditMemberMode())):o.dispatch(m.portalGroup.setDetailView(-2))})}},{key:"navigateMap",value:function(e){var t=this.props;t.dispatch(h.CommonVisiblePanelActions.selectPanel(e))}},{key:"getAvailableSites",value:function(){var e=this.props.portals.filter(function(e){return e.PortalGroupID===-1});return e}},{key:"openAddSiteGroup",value:function(){var e=this;this.props.detailInfoIndex!==-1&&this.confirmAction(function(){e.props.dispatch(m.portalGroup.setDetailView(-1))})}},{key:"render",value:function(){var e=this,t=this.props,r=t.availableSites,o=r&&r.length,a=t.detailInfoIndex===-1,n=function(o){var n=function(){return p["default"].createElement("div",{className:"no-data-state"},p["default"].createElement("h1",null,t.noDataHeader),p["default"].createElement("p",null,t.noDataPara),o<2&&p["default"].createElement("p",{className:"site-group-help-text"},g["default"].get("SiteGroups_AdditionalSites.ErrorMessage")),p["default"].createElement("div",{dangerouslySetInnerHTML:{__html:E.SiteGroupNoData}}))},i=function(){return p["default"].createElement(T["default"],{navigateMap:e.navigateMap.bind(e),isOpened:a,availableSites:r})};return t.portalGroups.length||a?i():n()};return p["default"].createElement(v["default"],{className:G["default"].portalGroupsContainer},t.portals.length>1&&o>=2&&p["default"].createElement("a",{className:"create-site-group-button"+(a?" opened":""),onClick:this.openAddSiteGroup.bind(this),dangerouslySetInnerHTML:{__html:E.AddIcon+" "+g["default"].get("EditSiteGroup_AddNew.Button")}}),n(o),t.portalGroups.length>0&&p["default"].createElement(v["default"],{className:"portal-groups-table"},t.portalGroups.map(function(o,a){return p["default"].createElement(b["default"],{group:o,toggleDetailView:e.toggleDetailView.bind(e,a,r,w["default"].getObjectCopy(o.members)),onCancel:e.toggleDetailView.bind(e,a),portalGroupIndex:a,isOpened:t.detailInfoIndex===a,getPortalsWithoutGroups:e.props.getPortalsWithoutGroups,portalAliases:e.props.portalAliases})})))}}]),t}(c.Component);t["default"]=(0,d.connect)(l)(x)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{portals:e.portal.portals,portalGroups:e.portalGroup.portalGroups,selectedPage:e.visiblePanel.selectedPage,totalCount:e.portal.totalCount,viewMode:e.viewMode.mode,selectedIndex:e.viewMode.selectedTab,siteGroupFormDirty:e.portalGroup.siteGroupFormDirty,siteSelectionDirty:e.portalGroup.siteSelectionDirty,pagination:e.pagination}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=r(1),u=e(s),c=r(7),p=r(101),d=e(p),f=r(13),g=e(f),m=r(23),h=e(m),S=r(22),v=e(S),E=r(19),y=r(8),b=e(y),_=r(2),T=e(_),P=r(10),w=e(P),I=r(56),G=e(I),x=r(55),O=e(x),R=r(63),A=e(R),D=r(9),C=r(90),M=e(C),k=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={containerClass:"",portalAliases:[]},e}return n(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props;t.dispatch(D.portal.loadPortals({portalGroupId:-1,filter:t.pagination.filter,pageIndex:0,pageSize:t.pagination.pageSize})),t.dispatch(D.portalGroup.getPortalGroups()),t.dispatch(D.siteBehavior.getSiteAliases(t.portalId,function(t){return e.setState({portalAliases:t})}))}},{key:"getPortalGroupFromPortalGroupId",value:function(e){var t=this.props;return t.portalGroups.find(function(t){return t.id==e})}},{key:"getDetailList",value:function(e){var t=this.getPortalGroupFromPortalGroupId(e.PortalGroupID);return[{label:b["default"].get("SiteDetails_SiteGroup"),value:t&&t.name||"-"}]}},{key:"onExport",value:function(e){var t=this.props;t.onExportPortal(e)}},{key:"onSearch",value:function(e){var t=this.props;t.dispatch(D.portal.searchPortals({filter:e,pageIndex:0,pageSize:t.pagination.pageSize,portalGroupId:t.pagination.portalGroupId}))}},{key:"onCardView",value:function(){var e=this;this.setState({containerClass:" hidden"},function(){setTimeout(function(){e.setState({containerClass:""}),e.props.dispatch(D.viewMode.setCardView())},500)})}},{key:"onListView",value:function(){var e=this;this.setState({containerClass:" hidden"},function(){setTimeout(function(){e.setState({containerClass:""}),e.props.dispatch(D.viewMode.setListView())},500)})}},{key:"onSelect",value:function(e){var t=this,r=this.props;r.siteGroupFormDirty||r.siteSelectionDirty?(T["default"].confirm(b["default"].get("SiteGroup_FormDirty.Warning"),b["default"].get("SiteGroup_FormDirty.Confirm"),b["default"].get("SiteGroup_FormDirty.Cancel"),function(){r.dispatch(D.portalGroup.setSiteGroupFormDirt(!1)),r.dispatch(D.portalGroup.setSiteSelectionFormDirt(!1)),t.props.dispatch(D.portalGroup.setDetailView(-2)),r.dispatch(D.viewMode.selectTab(e))}),this.setState({})):r.dispatch(D.viewMode.selectTab(e))}},{key:"loadMore",value:function(e){e&&e.preventDefault();var t=this.props;t.dispatch(D.pagination.loadMore(function(){t.dispatch(D.portal.loadPortals({portalGroupId:t.pagination.portalGroupId,filter:t.pagination.filter,pageIndex:t.pagination.pageIndex+1,pageSize:t.pagination.pageSize},!0))}))}},{key:"render",value:function(){var e=this.props,t=this.state;return u["default"].createElement(w["default"],{className:M["default"].sitesPortalList},u["default"].createElement(h["default"],{title:b["default"].get("Sites")},0===e.selectedIndex&&u["default"].createElement(g["default"],{type:"primary",onClick:e.onAddNewSite.bind(this),size:"large"},b["default"].get("AddNewSite"))),u["default"].createElement(v["default"],null,u["default"].createElement(d["default"],{tabHeaders:[b["default"].get("Sites.TabHeader"),b["default"].get("SiteGroups.TabHeader")],selectedIndex:e.selectedIndex,onSelect:this.onSelect.bind(this)},u["default"].createElement(w["default"],{className:"portals-list"},u["default"].createElement(G["default"],{onSearch:this.onSearch.bind(this),onListView:this.onListView.bind(this),onCardView:this.onCardView.bind(this)}),"card"===e.viewMode&&u["default"].createElement(O["default"],{closePersonaBar:this.props.closePersonaBar.bind(this),className:t.containerClass,portals:e.portals,getPortalMapping:this.getDetailList.bind(this),onExportPortal:this.onExport.bind(this)}),"list"===e.viewMode&&u["default"].createElement(E.ListView,{className:t.containerClass,portals:e.portals,getPortalMapping:this.getDetailList.bind(this),onExportPortal:this.onExport.bind(this),sitesModule:"Dnn.Sites"}),e.portals.length<e.totalCount&&u["default"].createElement(w["default"],{className:"load-more-button"},u["default"].createElement(g["default"],{type:"primary",onClick:this.loadMore.bind(this)},b["default"].getFromPlatform("LoadMore.Button")))),u["default"].createElement(w["default"],{className:"portalgroups-list"},u["default"].createElement(A["default"],{noDataPara:b["default"].get("OnceAddedYouCanView"),noDataHeader:b["default"].get("NoSiteGroupsYet"),getPortalsWithoutGroups:this.props.getPortalsWithoutGroups,portalAliases:this.state.portalAliases.PortalAliases})))))}}]),t}(s.Component);t["default"]=(0,c.connect)(i)(k)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=r(18),a=e(o.pagination,{FILTER_BY_SITE_GROUP:"FILTER_BY_SITE_GROUP",RESET_PAGINATION:"RESET_PAGINATION"});t["default"]=a}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=r(18),a=e(o.portal,{SEARCH_PORTALS:"SEARCH_PORTALS",UPDATE_PORTAL_PARAMETER:"UPDATE_PORTAL_PARAMETER",RETRIEVED_PORTAL_GROUPS:"RETRIEVED_PORTAL_GROUPS",UPDATE_PORTAL_GROUP:"UPDATE_PORTAL_GROUP",DELETE_PORTAL_GROUP:"DELETE_PORTAL_GROUP",ADD_PORTAL_TO_GROUP:"ADD_PORTAL_TO_GROUP",REMOVE_PORTAL_FROM_GROUP:"REMOVE_PORTAL_FROM_GROUP"});t["default"]=a}).call(this)}finally{}
},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={RETRIEVED_PORTAL_GROUPS:"PG_RETRIEVED_PORTAL_GROUPS",UPDATE_PORTAL_GROUP:"PG_UPDATE_PORTAL_GROUP",CREATED_PORTAL_GROUP:"PG_CREATED_PORTAL_GROUP",DELETE_PORTAL_GROUP:"PG_DELETE_PORTAL_GROUP",ADD_PORTAL_TO_GROUP:"PG_ADD_PORTAL_TO_GROUP",REMOVE_PORTAL_FROM_GROUP:"PG_REMOVE_PORTAL_FROM_GROUP",SET_DETAIL_VIEW:"PG_SET_DETAIL_VIEW",TOGGLE_EDIT_MEMBER_MODE:"PG_TOGGLE_EDIT_MEMBER_MODE",SET_SELECTED_SITES:"PG_SET_SELECTED_SITES",SET_AVAILABLE_SITES:"PG_SET_AVAILABLE_SITES",RETRIEVED_MASTER_PORTALS:"PG_RETRIEVED_MASTER_PORTALS",RETRIEVED_MEMBER_PORTALS:"PG_RETRIEVED_MEMBER_PORTALS",SET_SITE_GROUP_DIRT:"PG_SET_SITE_GROUP_DIRT",SET_SITE_SELECTION_DIRT:"PG_SET_SITE_SELECTION_DIRT",RETRIEVED_FREE_PORTALS:"PG_RETRIEVED_FREE_PORTALS",ADDED_PORTAL_MEMBERS:"ADDED_PORTAL_MEMBERS"};t["default"]=e}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={RETRIEVED_SITESETTINGS_DEFAULT_PAGES_SETTINGS:"RETRIEVED_SITESETTINGS_DEFAULT_PAGES_SETTINGS",UPDATED_SITESETTINGS_DEFAULT_PAGES_SETTINGS:"UPDATED_SITESETTINGS_DEFAULT_PAGES_SETTINGS",SITESETTINGS_DEFAULT_PAGES_SETTINS_CLIENT_MODIFIED:"SITESETTINGS_DEFAULT_PAGES_SETTINS_CLIENT_MODIFIED",RETRIEVED_SITESETTINGS_MESSAGING_SETTINGS:"RETRIEVED_SITESETTINGS_MESSAGING_SETTINGS",UPDATED_SITESETTINGS_MESSAGING_SETTINGS:"UPDATED_SITESETTINGS_MESSAGING_SETTINGS",SITESETTINGS_MESSAGING_SETTINS_CLIENT_MODIFIED:"SITESETTINGS_MESSAGING_SETTINS_CLIENT_MODIFIED",RETRIEVED_SITESETTINGS_PROFILE_SETTINGS:"RETRIEVED_SITESETTINGS_PROFILE_SETTINGS",UPDATED_SITESETTINGS_PROFILE_SETTINGS:"UPDATED_SITESETTINGS_PROFILE_SETTINGS",SITESETTINGS_PROFILE_SETTINS_CLIENT_MODIFIED:"SITESETTINGS_PROFILE_SETTINS_CLIENT_MODIFIED",RETRIEVED_SITESETTINGS_PROFILE_PROPERTIES:"RETRIEVED_SITESETTINGS_PROFILE_PROPERTIES",RETRIEVED_SITESETTINGS_PROFILE_PROPERTY:"RETRIEVED_SITESETTINGS_PROFILE_PROPERTY",SITESETTINGS_PROFILE_PROPERTY_CLIENT_MODIFIED:"SITESETTINGS_PROFILE_PROPERTY_CLIENT_MODIFIED",CANCELED_SITESETTINGS_PROFILE_PROPERTY_CLIENT_MODIFIED:"CANCELED_SITESETTINGS_PROFILE_PROPERTY_CLIENT_MODIFIED",RETRIEVED_SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION:"RETRIEVED_SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION",UPDATED_SITESETTINGS_PROFILE_PROPERTY:"UPDATED_SITESETTINGS_PROFILE_PROPERTY",CREATED_SITESETTINGS_PROFILE_PROPERTY:"CREATED_SITESETTINGS_PROFILE_PROPERTY",SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION_CLIENT_MODIFIED:"SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION_CLIENT_MODIFIED",CANCELED_SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION_CLIENT_MODIFIED:"CANCELED_SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION_CLIENT_MODIFIED",DELETED_SITESETTINGS_PROFILE_PROPERTY:"DELETED_SITESETTINGS_PROFILE_PROPERTY",UPDATED_SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION:"UPDATED_SITESETTINGS_PROFILE_PROPERTY_LOCALIZATION",RETRIEVED_SITESETTINGS_PORTAL_ALIAS_SETTINGS:"RETRIEVED_SITESETTINGS_PORTAL_ALIAS_SETTINGS",RETRIEVED_SITESETTINGS_PORTAL_ALIASES:"RETRIEVED_SITESETTINGS_PORTAL_ALIASES",SITESETTINGS_URL_MAPPING_SETTINGS_CLIENT_MODIFIED:"SITESETTINGS_URL_MAPPING_SETTINGS_CLIENT_MODIFIED",UPDATED_SITESETTINGS_URL_MAPPING_SETTINGS:"UPDATED_SITESETTINGS_URL_MAPPING_SETTINGS",RETRIEVED_SITESETTINGS_PORTAL_ALIAS:"RETRIEVED_SITESETTINGS_PORTAL_ALIAS",CANCELED_SITESETTINGS_SITE_ALIAS_CLIENT_MODIFIED:"CANCELED_SITESETTINGS_SITE_ALIAS_CLIENT_MODIFIED",SITESETTINGS_SITE_ALIAS_CLIENT_MODIFIED:"SITESETTINGS_SITE_ALIAS_CLIENT_MODIFIED",CREATED_SITESETTINGS_SITE_ALIAS:"CREATED_SITESETTINGS_SITE_ALIAS",UPDATED_SITESETTINGS_SITE_ALIAS:"UPDATED_SITESETTINGS_SITE_ALIAS",DELETED_SITESETTINGS_SITE_ALIAS:"DELETED_SITESETTINGS_SITE_ALIAS",RETRIEVED_SITESETTINGS_OTHER_SETTINGS:"RETRIEVED_SITESETTINGS_OTHER_SETTINGS",UPDATED_SITESETTINGS_OTHER_SETTINGS:"UPDATED_SITESETTINGS_OTHER_SETTINGS",SITESETTINGS_OTHER_SETTINS_CLIENT_MODIFIED:"SITESETTINGS_OTHER_SETTINS_CLIENT_MODIFIED",CANCELED_SITESETTINGS_OTHER_SETTINGS_CLIENT_MODIFIED:"CANCELED_SITESETTINGS_OTHER_SETTINGS_CLIENT_MODIFIED",UPDATED_SITESETTINGS_PROFILE_PROPERTY_ORDER:"UPDATED_SITESETTINGS_PROFILE_PROPERTY_ORDER"};t["default"]=e}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={CLOSE_PERSONA_BAR:"CLOSE_PERSONA_BAR"};t["default"]=e}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={SET_CARD_VIEW:"SET_CARD_VIEW",SET_LIST_VIEW:"SET_LIST_VIEW",SELECT_TAB:"SELECT_TAB"};t["default"]=e}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=e(o),n=r(106),i=r(108),l=e(i),s=r(107),u=e(s);t["default"]=(0,n.createDevTools)(a["default"].createElement(u["default"],{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q"},a["default"].createElement(l["default"],null)))}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";e.exports=r(73)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(1),s=e(l),u=r(49),c=e(u),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return n(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"sites-app personaBar-mainContainer"},s["default"].createElement(c["default"],null))}}]),t}(l.Component);t["default"]=p}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),a=e(o),n={init:function(e){if("function"==typeof window.dnn[e]){var t=window.dnn[e]();a["default"].init(t)}r(91)},dispatch:function(){throw new Error("dispatch method needs to be overwritten from the Redux store")}};t["default"]=n}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){return[].concat(o(e.slice(0,t)),o(e.slice(t+1)))}function n(e,t){return e.map(function(e){return{name:e.PortalName,id:e.PortalID,selected:t,isMember:!1}})}function i(e,t){var r=p["default"].getObjectCopy(e),a=r[t.portalGroupIndex];return a.members=t.members,[].concat(o(e.slice(0,t.portalGroupIndex)),[a],o(e.slice(t.portalGroupIndex+1)))}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{portalGroups:[],totalCount:0,detailInfoIndex:-2,editMemberMode:!1,availableSites:[],currentSelectedSites:[],availableMasterPortals:[],availableMemberPortals:[],siteGroupFormDirty:!1,siteSelectionDirty:!1},t=arguments[1];switch(t.type){case u.portalGroup.RETRIEVED_PORTAL_GROUPS:return s({},e,{portalGroups:t.payload.portalGroups});case u.portalGroup.SET_DETAIL_VIEW:return s({},e,{detailInfoIndex:t.payload});case u.portalGroup.TOGGLE_EDIT_MEMBER_MODE:return s({},e,{editMemberMode:!e.editMemberMode});case u.portalGroup.SET_SELECTED_SITES:return s({},e,{currentSelectedSites:t.payload});case u.portalGroup.RETRIEVED_FREE_PORTALS:return s({},e,{availableSites:n(t.payload.Results,!1)});case u.portalGroup.ADDED_PORTAL_MEMBERS:return s({},e,{portalGroups:i(e.portalGroups,t.payload)});case u.portalGroup.RETRIEVED_MASTER_PORTALS:return s({},e,{availableMasterPortals:t.payload});case u.portalGroup.RETRIEVED_MEMBER_PORTALS:return s({},e,{availableMemberPortals:t.payload});case u.portalGroup.SET_SITE_GROUP_DIRT:return s({},e,{siteGroupFormDirty:t.payload});case u.portalGroup.SET_SITE_SELECTION_DIRT:return s({},e,{siteSelectionDirty:t.payload});case u.portalGroup.DELETE_PORTAL_GROUP:return s({},e,{portalGroups:a(e.portalGroups,t.payload.portalGroupIndex)});case u.portalGroup.UPDATE_PORTAL_GROUP:return s({},e,{portalGroups:[].concat(o(e.portalGroups.slice(0,t.payload.index)),[t.payload.updatedGroup],o(e.portalGroups.slice(t.payload.index+1)))});case u.portalGroup.CREATED_PORTAL_GROUP:return s({},e,{portalGroups:e.portalGroups.concat(t.payload.Group)});default:return s({},e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};t["default"]=l;var u=r(6),c=r(2),p=e(c)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(26),a=r(77),n=e(a),i=r(75),l=e(i),s=r(6),u=r(92),c=[{condition:s.portal.SEARCH_PORTALS,functionToRun:function(e,t){return{filter:t.payload.filter}}}],p=[{condition:s.pagination.FILTER_BY_SITE_GROUP,functionToRun:function(e,t){return{pageIndex:0,pageSize:e.pageSize,portalGroupId:t.payload,filter:""}}},{condition:s.pagination.RESET_PAGINATION,functionToRun:function(){return{pageIndex:0,pageSize:9,filter:""}}}],d=(0,o.combineReducers)({portal:(0,u.portal)({},c),exportPortal:(0,u.exportPortal)(),visiblePanel:(0,u.visiblePanel)(),pagination:(0,u.pagination)({pageSize:9},p),viewMode:n["default"],portalGroup:l["default"]});t["default"]=d}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mode:"card",selectedTab:0},t=arguments[1];switch(t.type){case a.viewMode.SET_CARD_VIEW:return o({},e,{mode:"card"});case a.viewMode.SET_LIST_VIEW:return o({},e,{mode:"list"});case a.viewMode.SELECT_TAB:return o({},e,{selectedTab:t.payload});default:return o({},e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};t["default"]=e;var a=r(6)}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=r(2),l=e(i),s=function(){function e(){o(this,e)}return n(e,[{key:"getServiceFramework",value:function(e){var t=l["default"].sf;return t.moduleRoot="PersonaBar",t.controller=e,t}},{key:"getPortalSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetPortalSettings?portalId="+e+"&cultureCode="+(t?t:""),{},r)}},{key:"updatePortalSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdatePortalSettings",e,t,r)}},{key:"getDefaultPagesSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetDefaultPagesSettings?portalId="+e+"&cultureCode="+(t?t:""),{},r)}},{key:"updateDefaultPagesSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateDefaultPagesSettings",e,t,r)}},{key:"getMessagingSettings",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetMessagingSettings?portalId="+e,{},t)}},{key:"updateMessagingSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateMessagingSettings",e,t,r)}},{key:"getProfileSettings",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetProfileSettings?portalId="+e,{},t)}},{key:"updateProfileSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateProfileSettings",e,t,r)}},{key:"getProfileProperties",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetProfileProperties?portalId="+e,{},t)}},{key:"getProfileProperty",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetProfileProperty?propertyId="+e+"&portalId="+t,{},r)}},{key:"getProfilePropertyLocalization",value:function(e,t,r,o,a){var n=this.getServiceFramework("SiteSettings");n.get("GetProfilePropertyLocalization?portalId="+e+"&propertyName="+t+"&propertyCategory="+r+"&cultureCode="+(o?o:""),{},a)}},{key:"updateProfileProperty",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateProfileProperty",e,t,r)}},{key:"addProfileProperty",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("AddProfileProperty",e,t,r)}},{key:"deleteProfileProperty",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("DeleteProfileProperty?propertyId="+e+"&portalId=",{},t,r)}},{key:"updateProfilePropertyLocalization",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateProfilePropertyLocalization",e,t,r)}},{key:"getUrlMappingSettings",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetUrlMappingSettings?portalId="+e,{},t)}},{key:"getSiteAliases",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetSiteAliases?portalId="+e,{},t)}},{key:"updateUrlMappingSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateUrlMappingSettings",e,t,r)}},{key:"getSiteAlias",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetSiteAlias?portalAliasId="+e,{},t)}},{key:"addSiteAlias",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("AddSiteAlias",e,t,r)}},{key:"updateSiteAlias",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateSiteAlias",e,t,r)}},{key:"deleteSiteAlias",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("DeleteSiteAlias?portalAliasId="+e,{},t,r)}},{key:"getBasicSearchSettings",value:function(e){var t=this.getServiceFramework("SiteSettings");t.get("GetBasicSearchSettings",{},e)}},{key:"updateBasicSearchSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateBasicSearchSettings",e,t,r)}},{key:"compactSearchIndex",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.post("CompactSearchIndex",{},e,t)}},{key:"hostSearchReindex",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.post("HostSearchReindex",{},e,t)}},{key:"portalSearchReindex",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("PortalSearchReindex?portalId="+e,{},t,r)}},{key:"getSynonymsGroups",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetSynonymsGroups?portalId="+e+"&cultureCode="+(t?t:""),{},r)}},{key:"addSynonymsGroup",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("AddSynonymsGroup",e,t,r)}},{key:"updateSynonymsGroup",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateSynonymsGroup",e,t,r)}},{key:"deleteSynonymsGroup",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("DeleteSynonymsGroup",e,t,r)}},{key:"getIgnoreWords",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetIgnoreWords?portalId="+e+"&cultureCode="+(t?t:""),{},r)}},{key:"addIgnoreWords",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("AddIgnoreWords",e,t,r)}},{key:"updateIgnoreWords",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateIgnoreWords",e,t,r)}},{key:"deleteIgnoreWords",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("DeleteIgnoreWords",e,t,r)}},{key:"getLanguageSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetLanguageSettings?portalId="+e+"&cultureCode="+(t?t:""),{},r)}},{key:"updateLanguageSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateLanguageSettings",e,t,r)}},{key:"getLanguages",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetLanguages?portalId="+e,{},t)}},{key:"getLanguage",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.get("GetLanguage?portalId="+e+"&languageId="+t,{},r)}},{key:"getAllLanguages",value:function(e){var t=this.getServiceFramework("SiteSettings");t.get("GetAllLanguages",{},e)}},{key:"addLanguage",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("AddLanguage",e,t,r)}},{key:"updateLanguage",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateLanguage",e,t,r)}},{key:"updateLanguageRoles",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateLanguageRoles",e,t,r)}},{key:"verifyLanguageResourceFiles",value:function(e){var t=this.getServiceFramework("SiteSettings");t.get("VerifyLanguageResourceFiles",{},e)}},{key:"getModuleList",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetModuleList?type="+e,{},t)}},{key:"createLanguagePack",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("CreateLanguagePack",e,t,r)}},{key:"getCultureList",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetCultureList?portalId="+e,{},t)}},{key:"getRoleGroups",value:function(e,t){var r=this.getServiceFramework("SiteSettings");r.get("GetTranslatorRoleGroups?portalId="+e,{},t)}},{key:"getRoles",value:function(e,t,r,o){var a=this.getServiceFramework("SiteSettings");a.get("GetTranslatorRoles?portalId="+e+"&groupId="+t+"&cultureCode="+(r?r:""),{},o)}},{key:"getOtherSettings",value:function(e){var t=this.getServiceFramework("SiteSettings");t.get("GetOtherSettings",{},e)}},{key:"updateOtherSettings",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateOtherSettings",e,t,r)}},{key:"updateProfilePropertyOrders",value:function(e,t,r){var o=this.getServiceFramework("SiteSettings");o.post("UpdateProfilePropertyOrders",e,t,r)}},{key:"activateLanguage",value:function(e,t,r){var o=this.getServiceFramework("Languages");o.post("ActivateLanguage?"+a(e),{},t,r)}},{key:"markAllPagesAsTranslated",value:function(e,t,r){var o=this.getServiceFramework("Languages");o.post("MarkAllPagesTranslated?"+a(e),{},t,r)}},{key:"getPortals",value:function(e){var t=this.getServiceFramework("SiteSettings");t.get("GetPortals",{},e)}}]),e}(),u=new s;t["default"]=u}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=r(2),i=e(n),l=function(){function e(){o(this,e)}return a(e,[{key:"getServiceFramework",value:function(e){var t=i["default"].sf;return t.moduleRoot="PersonaBar",t.controller=e,t}},{key:"closePersonaBar",value:function(e){var t={activeIdentifier:"Dnn.Sites",activePath:null,comparativeTerm:"1 w",endDate:"2017-05-12T00:00:00-07:00",expandPersonaBar:!1,expandTasksPane:!0,legends:Array(0),period:"Week",startDate:"2017-05-12T00:00:00-07:00"},r=this.getServiceFramework("UserSettings");r.postsilence("UpdateUserSettings",t,e)}}]),e}(),s=new l;t["default"]=s}).call(this)}finally{}},function(e,t,r){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(0,a.createStore)(c["default"],e,(0,a.compose)((0,a.applyMiddleware)(i["default"],(0,s["default"])()),d["default"].instrument()));return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=r(26),n=r(110),i=e(n),l=r(109),s=e(l),u=r(76),c=e(u),p=r(71),d=e(p)}).call(this)}finally{}},[112,27],[112,28],[113,29],[114,30],[112,31],[112,32],[114,33],[114,34],[112,35],[113,36],function(e,t,r){var o=r(37);"string"==typeof o&&(o=[[e.id,o,""]]),r(4)(o,{}),o.locals&&(e.exports=o.locals)},function(e,t){e.exports=window.dnn.Sites.CommonReducers},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Checkbox},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.DropdownWithError},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.EditableField},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.GridSystem},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.PersonaBarPage},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.RadioButtons},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.SearchBox},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Switch},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Tabs},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.TextOverflowWrapper},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.TextOverflowWrapperNew},function(e,t){e.exports=window.dnn.nodeModules.Moment},function(e,t){e.exports=window.dnn.nodeModules.ReactDOM},function(e,t){e.exports=window.dnn.nodeModules.ReduxDevTools},function(e,t){e.exports=window.dnn.nodeModules.ReduxDevToolsDockMonitor},function(e,t){e.exports=window.dnn.nodeModules.ReduxDevToolsLogMonitor},function(e,t){e.exports=window.dnn.nodeModules.ReduxImmutableStateInvariant},function(e,t){e.exports=window.dnn.nodeModules.ReduxThunk},function(e,t,r,o,a,n,i,l,s){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userSettings=t.siteBehavior=t.pagination=t.viewMode=t.portalGroup=t.portal=void 0;var u=r(o),c=e(u),p=r(a),d=e(p),f=r(n),g=e(f),m=r(i),h=e(m),S=r(l),v=e(S),E=r(s),y=e(E);t.portal=c["default"],t.portalGroup=d["default"],t.viewMode=g["default"],t.pagination=h["default"],t.siteBehavior=v["default"],t.userSettings=y["default"]}).call(this)}finally{}},function(e,t,r,o){var a=r(o);"string"==typeof a&&(a=[[e.id,a,""]]),r(4)(a,{}),a.locals&&(e.exports=a.locals)},function(e,t,r,o){var a=r(o);"string"==typeof a&&(a=[[e.id,a,""]]),r(4)(a,{}),a.locals&&(e.exports=a.locals)},function(e,t,r,o){var a=r(o);"string"==typeof a&&(a=[[e.id,a,""]]),r(4)(a,{}),a.locals&&(e.exports=a.locals)}]));
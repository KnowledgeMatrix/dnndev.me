!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}var t=n(2),r=e(t),i=n(52),a=n(3),o=n(31),s=e(o),l=n(36),u=e(l),c=n(29),d=e(c),f=(0,u["default"])();s["default"].dispatch=f.dispatch;var p=document.getElementById("users-container");if(!p)throw Error("Cannot find users container.");s["default"].init(),(0,i.render)(r["default"].createElement(a.Provider,{store:f},r["default"].createElement(d["default"],null)),p)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n=e({},window.dnn.utility);t["default"]=n}).call(this)}finally{}},function(e,t){e.exports=window.dnn.nodeModules.React},function(e,t){e.exports=window.dnn.nodeModules.ReactRedux},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},[58,22,23],function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(u(r.parts[a],t))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(u(r.parts[a],t));p[r.id]={id:r.id,refs:1,parts:o}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],a=i[0],o=i[1],s=i[2],l=i[3],u={css:o,media:s,sourceMap:l};n[a]?n[a].parts.push(u):t.push(n[a]={id:a,parts:[u]})}return t}function a(e,t){var n=h(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function u(e,t){var n,r,i;if(t.singleton){var a=y++;n=m||(m=s(t)),r=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=f.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=d.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var p={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=g(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),h=g(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=p[s.id];l.refs--,a.push(l)}if(e){var u=i(e);r(u,t)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=e(r),a={get:function(e){var t="EvoqUsers";return i["default"].getResx(t,e)},getFromPlatform:function(e){var t="Users";return i["default"].getResx(t,e)}};t["default"]=a}).call(this)}finally{}},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.GridCell},[58,20,21],function(e,t,n){try{(function(){"use strict";function e(e){return e.isAdmin||e.permissions.VIEW_ASSETS}function n(e){return e.isAdmin||e.permissions.ADD_USER}function r(e,t){return(e.isAdmin||e.permissions.LOGIN_AS_USER)&&t.userId!==e.userId&&t.authorized&&!t.isDeleted&&!t.isLocked&&!t.isSuperUser}function i(e){return e.isAdmin||e.permissions.SHOW_USER_ACTIVITY&&e.permissions.EDIT_POINTS}function a(e,t){return!t.isSuperUser&&(e.isAdmin||e.permissions.SHOW_USER_ACTIVITY)}Object.defineProperty(t,"__esModule",{value:!0}),t.canViewAssets=e,t.canAddUser=n,t.canLoginAsUser=r,t.canEditPoints=i,t.showUserActivity=a}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e,t){var n=new Date(e),r=n.getDate(),i=n.getMonth()+1,a=n.getFullYear(),o=n.getHours(),s=n.getMinutes(),l=n.getSeconds(),u=n.getHours()>=12?"PM":"AM";if(o=o>=12?o-12:o,a<1900)return"-";var c=i+"/"+r+"/"+a;return t===!0&&(c+=" "+o+":"+s+":"+l+" "+u),c}function n(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function r(){var e=arguments[0],t=arguments;return e.replace(/{(\d+)}/gi,function(e,n){var r=parseInt(n)+1;return t[r]})}function i(e,t,n){return n=void 0===n?"asc":n,e=e.sort(function(e,r){return e[t]>r[t]?"asc"===n?1:-1:e[t]<r[t]?"asc"===n?-1:1:0})}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=e,t.validateEmail=n,t.formatString=r,t.sort=i}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={init:function(e){e||(this.applicationSettings={}),this.applicationSettings=e},applicationSettings:null};t["default"]=e}).call(this)}finally{}},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Pager},function(e,t){e.exports=window.dnn.nodeModules.Redux},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}._1QIxduoUgWTHzb8KQWTvdT{box-sizing:border-box;float:left;margin:0;padding:0;width:100%}._1QIxduoUgWTHzb8KQWTvdT .dnn-grid-cell{margin:0;padding:8px 0;border-bottom:1px solid #c8c8c8}._1QIxduoUgWTHzb8KQWTvdT .dnn-grid-cell>div{font-size:12px}._1QIxduoUgWTHzb8KQWTvdT .dnn-grid-cell .action{float:left}._1QIxduoUgWTHzb8KQWTvdT .dnn-grid-cell .area{float:right;text-transform:uppercase}._1QIxduoUgWTHzb8KQWTvdT .dnn-pager{margin-top:10px;float:left}._1QIxduoUgWTHzb8KQWTvdT .dnn-pager .dnn-pager-summary-box{width:60%}._1QIxduoUgWTHzb8KQWTvdT .dnn-pager .dnn-pager-control{width:40%}",""]),t.locals={recentActivity:"_1QIxduoUgWTHzb8KQWTvdT"}},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"svg{fill:#c8c8c8}svg:hover{fill:#6f7273}svg:active{fill:#1e88c3}._2H_8FvQWpZhyYwL7ilGF0Q{box-sizing:border-box;float:left;margin:15px 0}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell{margin:5px 0}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .outer-box{padding:10px 30px}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .outer-box.left{border-right:1px solid #c8c8c8}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .outer-box.right{border-left:1px solid #c8c8c8;min-height:125px}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .outer-box .contributions-box{float:left;padding:10px 15px;margin-top:10px;border:1px solid #c8c8c8;text-align:center;text-transform:uppercase}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .title{text-align:left;text-transform:uppercase;font-weight:700;margin-bottom:20px;float:left}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .title.half-margin{padding:0;margin-bottom:10px}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .title.right{border-left:1px solid #c8c8c8}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .edit-point-text{box-shadow:0 0 17px 2px rgba(0,0,0,.2)}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .anchor{cursor:pointer;text-transform:uppercase;color:#1e88c3}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .anchor:hover{color:#21a3da}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .anchor:visited{color:#226f9b}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .anchor.cancel{margin-right:5px;color:#c8c8c8}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .anchor.cancel:hover,._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .anchor.cancel:visited{color:#959695}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .no-margin{padding:0;margin:0}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .progress-bar{float:left;height:20px;padding:0;margin:0;line-height:20px;text-align:center}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .progress-bar.filled{background-color:#21a3da}._2H_8FvQWpZhyYwL7ilGF0Q .dnn-grid-cell .progress-bar.non-filled{background-color:#e5e7e6}",""]),t.locals={userActivity:"_2H_8FvQWpZhyYwL7ilGF0Q"}},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"#users-container *{box-sizing:border-box}#users-container .create-user-box-collapse,#users-container .create-user-box-collapse>div{float:left}#users-container .dnn-persona-bar-page-body.without-margin{margin-top:0}#users-container .dnn-persona-bar-page-body .users-workspace-tray{height:37px}#users-container .dnn-persona-bar-page-body .users-workspace-tray .dnn-grid-cell{height:100%;padding-top:7px}#users-container .dnn-persona-bar-page-body .users-workspace-tray .dnn-grid-cell .users-filter-container .user-filters-filter{height:24px}#users-container .dnn-persona-bar-page-body .users-workspace-tray .dnn-grid-cell .users-filter-container .user-filters-filter .dnn-dropdown .collapsible-label{padding-top:4px}#users-container .dnn-persona-bar-page-body .users-workspace-tray .dnn-grid-cell .users-filter-container .user-filters-filter .dnn-dropdown .dropdown-icon{top:5px}#users-container .dnn-persona-bar-page-body .users-workspace-tray .dnn-grid-cell .dnn-search-box{width:100%;height:24px}#users-container .dnn-persona-bar-page-body .users-workspace-tray .dnn-grid-cell .dnn-search-box input{padding:0 16px}#users-container .dnn-persona-bar-page-body .users-paging{float:left;width:100%;margin:0 2px;padding:18px}",""])},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"",""])},,function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=n(41),i=e(r.users);t["default"]=i}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={RETRIEVED_USER_ACTIVITY_DETAILS:"RETRIEVED_USER_ACTIVITY_DETAILS",RETRIEVED_USER__RECENT_ACTIVITIES:"RETRIEVED_USER__RECENT_ACTIVITIES"};t["default"]=e}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(42),a=n(35),o=e(a),s=r(i.CommonUsersActions,{loginAsUser:function(e,t){return function(){o["default"].loginAsUser(e,function(e){t&&t(e)})}}});t["default"]=s}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e){l["default"].notifyError(JSON.parse(e.responseText).Message,5e3)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(34),o=e(a),s=n(1),l=e(s),u={getUserActivityDetail:function(e,t){return function(n){o["default"].getUserActivityDetail(e,function(e){n({type:i.usersActivity.RETRIEVED_USER_ACTIVITY_DETAILS,payload:e}),t&&t(e)},r)}},getUserRecentActivity:function(e,t){return function(){o["default"].getUserRecentActivity(e,function(e){t&&t(e)},r)}},saveUserPoints:function(e,t){return function(){o["default"].saveUserPoints(e,function(e){t&&t(e)},r)}}};t["default"]=u}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){return{}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=e(l),c=n(3),d=n(27),f=e(d),p=n(47),g=e(p),v=n(5),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props;e.dispatch(v.users.getUsers({searchText:"",filter:0,pageIndex:0,pageSize:10,sortColumn:"",sortAscending:!1}))}},{key:"render",value:function(){return u["default"].createElement("div",{className:"boilerplate-app personaBar-mainContainer"},u["default"].createElement(g["default"],{isOpen:!0},u["default"].createElement(f["default"],null)))}}]),t}(l.Component);h.PropTypes={dispatch:l.PropTypes.func.isRequired},t["default"]=(0,c.connect)(o)(h)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){return{}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=e(u),d=n(3),f=n(7),p=e(f),g=n(8),v=e(g),h=n(1),m=e(h),y=n(37),b=e(y),w=n(5),_=n(13),x=e(_),E=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={recentActivities:void 0!==e.recentActivities?s([],m["default"].getObjectCopy(e.recentActivities)):void 0,totalActivities:e.totalActivities,userId:e.userId,currentPage:0},n}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==this.state.recentActivities&&e.userId===this.state.userId||this.setState({recentActivities:s([],m["default"].getObjectCopy(e.recentActivities)),totalActivities:e.totalActivities,userId:e.userId,currentPage:0})}},{key:"getRecentActivities",value:function(){var e=this;this.props.dispatch(w.usersActivity.getUserRecentActivity({userId:this.state.userId,pageIndex:this.state.currentPage,pageSize:10},function(t){e.setState({recentActivities:s([],m["default"].getObjectCopy(t))})}))}},{key:"listRecentActivities",value:function(){return this.state.recentActivities.map(function(e){return c["default"].createElement(v["default"],{columnSize:100},c["default"].createElement("div",{className:"action"},e.action," ",e.created),c["default"].createElement("div",{className:"area"},e.area))})}},{key:"onPageChanged",value:function(e){var t=this,n=this.state;n.currentPage=e,this.setState({state:n},function(){t.getRecentActivities()})}},{key:"render",value:function(){return void 0!==this.state.recentActivities&&this.state.recentActivities.length>0?c["default"].createElement("div",{className:b["default"].recentActivity},this.listRecentActivities(),c["default"].createElement(x["default"],{pageSizeDropDownWithoutBorder:!0,showSummary:!0,summaryText:p["default"].get("RecentActivityPagingSummaryText"),showPageInfo:!1,showStartEndButtons:!1,numericCounters:0,showPageSizeOptions:!1,pageSize:10,totalRecords:this.state.totalActivities,onPageChanged:this.onPageChanged.bind(this)})):c["default"].createElement("div",{className:b["default"].recentActivity},"No recent activities")}}]),t}(u.Component);t["default"]=(0,d.connect)(o)(E)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{userActivityDetails:e.userActivity.userActivityDetails}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=e(u),d=n(3),f=n(7),p=e(f),g=n(8),v=e(g),h=n(38),m=e(h),y=n(5),b=n(25),w=e(b),_=n(11),x=n(50),E=e(x),A=n(46),S=e(A),P=n(10),U=n(1),C=e(U),T=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userActivity:{},showEditPoints:!1,editPoints:{userId:e.user.userId,reputation:0,experience:0,note:""}},n.showSocial="DNNSOCIAL"===C["default"].getSKU(),n}return a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props;if(void 0===e.userActivityDetails.userId||e.userActivityDetails.userId!==e.user.userId)this.getUserActivityDetails(e);else{var t=s({},e.userActivityDetails),n={userId:e.user.userId,reputation:t.reputation,experience:t.experience,note:""};this.setState({userActivity:t,editPoints:n})}}},{key:"getUserActivityDetails",value:function(e){var t=this;e.dispatch(y.usersActivity.getUserActivityDetail({userId:e.user.userId},function(n){var r=s({},n),i={userId:e.user.userId,reputation:r.reputation,experience:r.experience,note:""};t.setState({userActivity:r,editPoints:i})}))}},{key:"toggleEditPoints",value:function(){var e=this.state.showEditPoints;this.setState({showEditPoints:!e})}},{key:"onSaveEditPoints",value:function(){var e=this,t=this.props,n=this.state.editPoints,r=this.state.userActivity;t.dispatch(y.usersActivity.saveUserPoints(n,function(){r.reputation=n.reputation,r.experience=n.experience,e.setState({userActivity:r},function(){e.getUserActivityDetails(t),e.toggleEditPoints()})}))}},{key:"onCancelEditPoints",value:function(){this.resetEditPointsForm(),this.toggleEditPoints()}},{key:"resetEditPointsForm",value:function(){var e=this.state.userActivity;this.setState({editPoints:{userId:this.props.user.userId,reputation:e.reputation,experience:e.experience,note:""}})}},{key:"onChangePoints",value:function(e,t){var n=this.state.editPoints;"note"!==e?n[e]=void 0!==t.target.value&&""!==t.target.value?t.target.value:0:n[e]=t.target.value,this.setState({editPoints:n})}},{key:"render",value:function(){var e=this.state;return c["default"].createElement(v["default"],{className:m["default"].userActivity},c["default"].createElement(v["default"],null,c["default"].createElement(v["default"],{className:"outer-box"+(this.showSocial?" left":""),columnSize:50},c["default"].createElement(v["default"],{columnSize:100,className:"no-margin"},c["default"].createElement(v["default"],{columnSize:40,className:"title"},p["default"].get("lblLastActive")),c["default"].createElement(v["default"],{columnSize:60},e.userActivity.lastActive)),this.showSocial&&c["default"].createElement(v["default"],{columnSize:"100"},c["default"].createElement("div",{className:"title"})),this.showSocial&&c["default"].createElement(v["default"],{className:"no-margin",columnSize:"100"},c["default"].createElement(v["default"],{className:"title no-margin",columnSize:"33",style:{textAlign:"center"}},p["default"].get("lblRank"),c["default"].createElement(v["default"],null,e.userActivity.rank)),c["default"].createElement(v["default"],{className:"title no-margin right",columnSize:"33",style:{textAlign:"center"}},p["default"].get("lblReputation"),c["default"].createElement(v["default"],null,!e.showEditPoints&&e.userActivity.reputation,e.showEditPoints&&c["default"].createElement(E["default"],{value:e.editPoints.reputation,onChange:this.onChangePoints.bind(this,"reputation"),autoComplete:"off",style:{width:"70%",textAlign:"center"}}))),c["default"].createElement(v["default"],{className:"title no-margin right",columnSize:"33",style:{textAlign:"center"}},p["default"].get("lblExperience"),c["default"].createElement(v["default"],null,!e.showEditPoints&&e.userActivity.experience,e.showEditPoints&&c["default"].createElement(E["default"],{value:e.editPoints.experience,onChange:this.onChangePoints.bind(this,"experience"),autoComplete:"off",style:{width:"70%",textAlign:"center"}})))),this.showSocial&&(0,P.canEditPoints)(this.props.appSettings.applicationSettings.settings)&&c["default"].createElement(v["default"],{className:"no-margin",columnSize:100},!e.showEditPoints&&c["default"].createElement(v["default"],{className:"anchor",style:{width:"auto"}},c["default"].createElement("span",{className:"do-not-close",onClick:this.toggleEditPoints.bind(this)},p["default"].get("editPoints"))),e.showEditPoints&&c["default"].createElement(v["default"],{className:"no-margin",columnSize:100},c["default"].createElement(v["default"],{columnSize:100},p["default"].get("lblNotes"),c["default"].createElement(v["default"],{className:"no-margin"},c["default"].createElement(S["default"],{value:e.editPoints.note,onChange:this.onChangePoints.bind(this,"note"),autoComplete:"off",style:{width:"100%",paddingBottom:"10px"}}))),c["default"].createElement(v["default"],{className:"half-margin",columnSize:100,style:{textAlign:"right"}},c["default"].createElement("span",{className:"anchor cancel do-not-close",onClick:this.onCancelEditPoints.bind(this)},p["default"].get("Cancel")),c["default"].createElement("span",{className:"anchor do-not-close",onClick:this.onSaveEditPoints.bind(this)},p["default"].get("Save"))))),this.showSocial&&c["default"].createElement(v["default"],{columnSize:"100"},c["default"].createElement("div",{className:"title"})),this.showSocial&&c["default"].createElement(v["default"],{columnSize:"100",className:"title"},c["default"].createElement("div",{className:"title half-margin"},p["default"].get("lblEngagement")),c["default"].createElement(v["default"],{columnSize:100,className:"no-margin"},c["default"].createElement(v["default"],{columnSize:90,className:"no-margin"},c["default"].createElement("div",{className:"progress-bar filled",style:{paddingLeft:e.userActivity.engagement+"%"}}),c["default"].createElement("div",{className:"progress-bar non-filled",style:{paddingLeft:100-e.userActivity.engagement+"%"}})),c["default"].createElement(v["default"],{columnSize:10,className:"progress-bar no-margin"},e.userActivity.engagement))),this.showSocial&&c["default"].createElement(v["default"],{columnSize:"100",className:"title"},c["default"].createElement("div",{className:"title half-margin"},p["default"].get("lblInfluenece")),c["default"].createElement(v["default"],{columnSize:100,className:"no-margin"},c["default"].createElement(v["default"],{columnSize:90,className:"no-margin"},c["default"].createElement("div",{className:"progress-bar filled",style:{paddingLeft:e.userActivity.influence+"%"}}),c["default"].createElement("div",{className:"progress-bar non-filled",style:{paddingLeft:100-e.userActivity.influence+"%"}})),c["default"].createElement(v["default"],{columnSize:10,className:"progress-bar no-margin"},e.userActivity.influence))),c["default"].createElement(v["default"],{columnSize:"100"},c["default"].createElement(v["default"],{columnSize:100,className:"contributions-box no-margin"},c["default"].createElement("div",{dangerouslySetInnerHTML:{__html:(0,_.formatString)(p["default"].get("lblContributions"),e.userActivity.totalContribution)}})))),c["default"].createElement(v["default"],{className:"outer-box"+(this.showSocial?"":" right"),columnSize:50,style:{height:"100%"}},c["default"].createElement(v["default"],{className:"no-margin",columnSize:"100"},c["default"].createElement("div",{className:"title half-margin"},p["default"].get("RecentActivity"))),c["default"].createElement(v["default"],{columnSize:"100",className:"no-margin"},c["default"].createElement(w["default"],{recentActivities:e.userActivity.recentActivities,totalActivities:e.userActivity.totalActivities,userId:this.props.user.userId})))))}}]),t}(u.Component);t["default"]=(0,d.connect)(o)(T)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{totalUsers:e.users.totalUsers}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),d=e(c),f=n(3),p=n(7),g=e(p),v=n(45),h=e(v),m=n(8),y=e(m),b=n(49),w=e(b),_=n(48),x=e(_),E=n(43),A=n(13),S=e(A);n(39);var P=n(5),U=n(26),C=e(U),T=n(51),O=n(1),I=e(O),M=n(11),R=n(12),j=e(R),k=n(10),N={searchText:"",filter:0,pageIndex:0,pageSize:10,sortColumn:"",sortAscending:!1,resetIndex:!1},z=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={userFilters:[],searchParameters:N},e}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.props.dispatch(P.users.getUserFilters(function(t){var n=l([],JSON.parse(JSON.stringify(t)));e.setState({userFilters:n})}))}},{key:"onChange",value:function(e,t){this.setState(r({},e,t.target.value))}},{key:"onFilterChange",value:function(e,t){var n=this,r=this.state.searchParameters;r.searchText=t,r.filter=e.value,r.pageIndex=0,r.resetIndex=!0,this.props.dispatch(P.users.getUsers(r)),this.setState({searchParameters:r},function(){var e=n.state.searchParameters;e.resetIndex=!1,n.setState({searchParameters:e})})}},{key:"onPageChanged",value:function(e,t){var n=this.state.searchParameters;n.pageIndex=e,n.pageSize=t,this.props.dispatch(P.users.getUsers(n)),this.setState({searchParameters:n})}},{key:"getWorkSpaceTray",value:function(){return this.state.userFilters.length>0&&d["default"].createElement(y["default"],{className:"users-workspace-tray"},d["default"].createElement(E.FiltersBar,{onChange:this.onFilterChange.bind(this),userFilters:this.state.userFilters}))}},{key:"toggleCreateBox",value:function(){this.refs.userTable.getWrappedInstance().onAddUser()}},{key:"getUserTabs",value:function(e){return(0,k.showUserActivity)(j["default"].applicationSettings.settings,e)?[{index:1,content:d["default"].createElement(C["default"],{user:e,appSettings:j["default"]})}]:[]}},{key:"getUserTabsIcons",value:function(e){return(0,k.showUserActivity)(j["default"].applicationSettings.settings,e)?[{index:1,icon:T.ActivityIcon,title:g["default"].get("ShowUserActivity.title")}]:[]}},{key:"getUserColumns",value:function(e){return[{index:1,content:void 0!==e&&d["default"].createElement(y["default"],{columnSize:10,className:"user-avatar",style:{paddingLeft:0}},"-"!==e.avatar&&d["default"].createElement("img",{src:e.avatar,alt:e.displayName}),"-"===e.avatar&&e.avatar),header:""}]}},{key:"getUserMenu",value:function(e){var t=[];return(0,k.canViewAssets)(j["default"].applicationSettings.settings,e)&&(t=t.concat([{key:"ViewAssets",title:g["default"].get("ViewAssets"),index:20}])),(0,k.canLoginAsUser)(j["default"].applicationSettings.settings,e)&&(t=t.concat([{index:500,title:g["default"].get("LoginAsUser"),key:"LoginAsUser"}])),t}},{key:"userMenuAction",value:function(e,t){switch(e){case"LoginAsUser":(0,k.canLoginAsUser)(j["default"].applicationSettings.settings,t)&&this.props.dispatch(P.users.loginAsUser({userId:t.userId},function(){window.top.location.reload()}));break;case"ViewAssets":(0,k.canViewAssets)(j["default"].applicationSettings.settings,t)&&this.onViewAssets(t)}}},{key:"onViewAssets",value:function(e){var t=e.userFolderId;t>0&&e.hasUserFiles?I["default"].loadPanel("Evoq.Assets",{folderId:t}):I["default"].notifyError((0,M.formatString)(g["default"].get("err_NoUserFolder"),e.displayName))}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.createBoxVisible?"without-margin":"",r=[{index:1,size:10},{index:5,size:30},{index:10,size:25},{index:15,size:16},{index:25,size:19}];return d["default"].createElement(y["default"],null,d["default"].createElement(w["default"],{title:g["default"].get("nav_Users")},(0,k.canAddUser)(j["default"].applicationSettings.settings)&&d["default"].createElement(h["default"],{type:"primary",size:"large",onClick:this.toggleCreateBox.bind(this),title:g["default"].get("btnCreateUser")
},g["default"].get("btnCreateUser"))),d["default"].createElement(x["default"],{workSpaceTrayVisible:!0,workSpaceTrayOutside:!0,workSpaceTray:this.getWorkSpaceTray(),className:n},d["default"].createElement(E.UserTable,{ref:"userTable",getUserColumns:this.getUserColumns.bind(this),getUserTabsIcons:this.getUserTabsIcons.bind(this),getUserTabs:this.getUserTabs.bind(this),getUserMenu:this.getUserMenu.bind(this),userMenuAction:this.userMenuAction.bind(this),appSettings:j["default"],columnSizes:r}),d["default"].createElement("div",{className:"users-paging"},d["default"].createElement(S["default"],{pageSizeDropDownWithoutBorder:!0,showSummary:!0,showPageInfo:!1,pageSizeOptionText:g["default"].get("usersPageSizeOptionText"),summaryText:g["default"].get("usersSummaryText"),pageSize:this.state.searchParameters.pageSize,totalRecords:e.totalUsers,onPageChanged:this.onPageChanged.bind(this),resetIndex:this.state.searchParameters.resetIndex,culture:I["default"].getCulture()}))))}}]),t}(c.Component);t["default"]=(0,f.connect)(s)(z)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=e(r),a=n(53),o=n(55),s=e(o),l=n(54),u=e(l);t["default"]=(0,a.createDevTools)(i["default"].createElement(u["default"],{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q"},i["default"].createElement(s["default"],null)))}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";e.exports=n(30)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=e(r),a=n(24),o=e(a),s=function(){return i["default"].createElement("div",{className:"boilerplate-root"},i["default"].createElement(o["default"],null))};t["default"]=s}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=e(r),a={init:function(){var e=window.dnn.initUsers();i["default"].init(e),n(40)},dispatch:function(){throw new Error("dispatch method needs to be overwritten from the Redux store")}};t["default"]=a}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(44),a=n(33),o=e(a),s=(0,r.combineReducers)({users:(0,i.users)(),userActivity:o["default"]});t["default"]=s}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userActivityDetails:{}},t=arguments[1];switch(t.type){case a.usersActivity.RETRIEVED_USER_ACTIVITY_DETAILS:return i({},e,{userActivityDetails:t.payload});case a.usersActivity.RETRIEVED_USER__RECENT_ACTIVITIES:var n=i({},s["default"].getObjectCopy(e.userActivityDetails));return n.recentActivities=i([],s["default"].getObjectCopy(t.payload)),i({},e,{userActivityDetails:n});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=r;var a=n(9),o=n(1),s=e(o)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=e(o),l=function(){function e(){r(this,e)}return a(e,[{key:"getServiceFramework",value:function(e){var t=s["default"].sf;return t.moduleRoot="PersonaBar",t.controller=e,t}},{key:"getUserActivityDetail",value:function(e,t,n){var r=this.getServiceFramework("EvoqUsers");r.get("GetUserActivityDetail?"+i(e),{},t,n)}},{key:"getUserRecentActivity",value:function(e,t,n){var r=this.getServiceFramework("EvoqUsers");r.get("GetUserRecentActivities?"+i(e),{},t,n)}},{key:"saveUserPoints",value:function(e,t,n){var r=this.getServiceFramework("EvoqUsers");r.post("SaveUserPoints",e,t,n)}}]),e}(),u=new l;t["default"]=u}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=e(o),l=function(){function e(){r(this,e)}return a(e,[{key:"getServiceFramework",value:function(e){var t=s["default"].sf;return t.moduleRoot="PersonaBar",t.controller=e,t}},{key:"loginAsUser",value:function(e,t){var n=this.getServiceFramework("EvoqUsers");n.post("LoginAsUser?"+i(e),null,t)}}]),e}(),u=new l;t["default"]=u}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=(0,i.createStore)(c["default"],e,(0,i.compose)((0,i.applyMiddleware)(o["default"],(0,l["default"])()),f["default"].instrument()));return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(14),a=n(57),o=e(a),s=n(56),l=e(s),u=n(32),c=e(u),d=n(28),f=e(d)}).call(this)}finally{}},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.id,r,""]]),n(6)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.id,r,""]]),n(6)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(17);"string"==typeof r&&(r=[[e.id,r,""]]),n(6)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(18);"string"==typeof r&&(r=[[e.id,r,""]]),n(6)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t){e.exports=window.dnn.Users.CommonActionTypes},function(e,t){e.exports=window.dnn.Users.CommonActions},function(e,t){e.exports=window.dnn.Users.CommonComponents},function(e,t){e.exports=window.dnn.Users.CommonReducers},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.Button},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.MultiLineInput},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.PersonaBarPage},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.PersonaBarPageBody},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.PersonaBarPageHeader},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.SingleLineInput},function(e,t){e.exports=window.dnn.nodeModules.CommonComponents.SvgIcons},function(e,t){e.exports=window.dnn.nodeModules.ReactDOM},function(e,t){e.exports=window.dnn.nodeModules.ReduxDevTools},function(e,t){e.exports=window.dnn.nodeModules.ReduxDevToolsDockMonitor},function(e,t){e.exports=window.dnn.nodeModules.ReduxDevToolsLogMonitor},function(e,t){e.exports=window.dnn.nodeModules.ReduxImmutableStateInvariant},function(e,t){e.exports=window.dnn.nodeModules.ReduxThunk},function(e,t,n,r,i){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usersActivity=t.users=void 0;var a=n(r),o=e(a),s=n(i),l=e(s);t.users=o["default"],t.usersActivity=l["default"]}).call(this)}finally{}}]));